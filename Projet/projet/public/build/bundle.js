!function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;
/* @preserve
	 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
	 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
	 */
var t,e=(function(t,e){!function(t){var e="1.7.1";function n(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function s(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function a(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function h(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function u(){return!1}function l(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return c(t).split(/\s+/)}function p(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function f(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var _=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(_,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function b(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var P=window.requestAnimationFrame||x("RequestAnimationFrame")||b,M=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||P!==b)return P.call(window,o(t,e));t.call(e)}function C(t){t&&M.call(window,t)}var S={extend:n,create:i,bind:o,lastId:r,stamp:s,throttle:a,wrapNum:h,falseFn:u,formatNum:l,trim:c,splitWords:d,setOptions:p,getParamString:f,template:m,isArray:g,indexOf:v,emptyImageUrl:y,requestFn:P,cancelFn:M,requestAnimFrame:T,cancelAnimFrame:C};function k(){}function z(t){if("undefined"!=typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}k.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,r=i(o);for(var s in r.constructor=e,e.prototype=r,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(z(t.includes),n.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=n(i(r.options),t.options)),n(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},k.include=function(t){return n(this.prototype,t),this},k.mergeOptions=function(t){return n(this.prototype.options,t),this},k.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=d(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=d(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var s=i[o];if(s.ctx===n&&s.fn===e)return s.fn=u,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=u;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var h=r[s];h.fn.call(h.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var r=o((function(){this.off(t,e,n).off(t,r,n)}),this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var E=k.extend(A);function Z(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var N=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof Z?t:g(t)?new Z(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new Z(t.x,t.y):new Z(t,e,n)}function B(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function O(t,e){return!t||t instanceof B?t:new B(t,e)}function R(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function D(t,e){return t instanceof R?t:new R(t,e)}function j(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function F(t,e,n){return t instanceof j?t:g(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,n)}Z.prototype={clone:function(){return new Z(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Z(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Z(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},B.prototype={extend:function(t){return t=I(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new Z(this.min.x,this.max.y)},getTopRight:function(){return new Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof Z?I(t):O(t))instanceof B?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=O(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},overlaps:function(t){t=O(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},R.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof j)e=t,n=t;else{if(!(t instanceof R))return t?this.extend(F(t)||D(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new R(new j(e.lat-i,e.lng-o),new j(n.lat+i,n.lng+o))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?F(t):D(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof R?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=D(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},overlaps:function(t){t=D(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=D(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=F(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+l(this.lat,t)+", "+l(this.lng,t)+")"},distanceTo:function(t){return q.distance(this,F(t))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return D([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var H,W={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new B(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?h(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?h(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new R(new j(r.lat-i,r.lng-o),new j(s.lat-i,s.lng-o))}},q=n({},W,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=r*r+Math.cos(i)*Math.cos(o)*s*s,h=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*h}}),V=6378137,U={R:V,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new Z(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(H=V*Math.PI,new B([-H,-H],[H,H]))};function G(t,e,n,i){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function K(t,e,n,i){return new G(t,e,n,i)}G.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new Z((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y=n({},q,{code:"EPSG:3857",projection:U,transformation:function(){var t=.5/(Math.PI*U.R);return K(t,.5,-t,.5)}()}),X=n({},Y,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t,e){var n,i,o,r,s,a,h="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(s=t[n]).length;i<r;i++)h+=(i?"L":"M")+(a=s[i]).x+" "+a.y;h+=e?zt?"z":"x":""}return h||"M0 0"}var Q=document.documentElement.style,tt="ActiveXObject"in window,et=tt&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),it=Et("webkit"),ot=Et("android"),rt=Et("android 2")||Et("android 3"),st=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=ot&&Et("Google")&&st<537&&!("AudioNode"in window),ht=!!window.opera,ut=!nt&&Et("chrome"),lt=Et("gecko")&&!it&&!ht&&!tt,ct=!ut&&Et("safari"),dt=Et("phantom"),pt="OTransition"in Q,ft=0===navigator.platform.indexOf("Win"),_t=tt&&"transition"in Q,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,gt="MozPerspective"in Q,vt=!window.L_DISABLE_3D&&(_t||mt||gt)&&!pt&&!dt,yt="undefined"!=typeof orientation||Et("mobile"),xt=yt&&it,wt=yt&&mt,bt=!window.PointerEvent&&window.MSPointerEvent,Lt=!(!window.PointerEvent&&!bt),Pt=!window.L_NO_TOUCH&&(Lt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Mt=yt&&ht,Tt=yt&&lt,Ct=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,St=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(t){}return t}(),kt=!!document.createElement("canvas").getContext,zt=!(!document.createElementNS||!J("svg").createSVGRect),At=!zt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Et(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Zt={ie:tt,ielt9:et,edge:nt,webkit:it,android:ot,android23:rt,androidStock:at,opera:ht,chrome:ut,gecko:lt,safari:ct,phantom:dt,opera12:pt,win:ft,ie3d:_t,webkit3d:mt,gecko3d:gt,any3d:vt,mobile:yt,mobileWebkit:xt,mobileWebkit3d:wt,msPointer:bt,pointer:Lt,touch:Pt,mobileOpera:Mt,mobileGecko:Tt,retina:Ct,passiveEvents:St,canvas:kt,svg:zt,vml:At},Nt=bt?"MSPointerDown":"pointerdown",It=bt?"MSPointerMove":"pointermove",Bt=bt?"MSPointerUp":"pointerup",Ot=bt?"MSPointerCancel":"pointercancel",Rt={},Dt=!1;function jt(t,e,n,i){return"touchstart"===e?Ht(t,n,i):"touchmove"===e?Gt(t,n,i):"touchend"===e&&Kt(t,n,i),this}function Ft(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(Nt,i,!1):"touchmove"===e?t.removeEventListener(It,i,!1):"touchend"===e&&(t.removeEventListener(Bt,i,!1),t.removeEventListener(Ot,i,!1)),this}function Ht(t,e,n){var i=o((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&qe(t),Ut(t,e)}));t["_leaflet_touchstart"+n]=i,t.addEventListener(Nt,i,!1),Dt||(document.addEventListener(Nt,Wt,!0),document.addEventListener(It,qt,!0),document.addEventListener(Bt,Vt,!0),document.addEventListener(Ot,Vt,!0),Dt=!0)}function Wt(t){Rt[t.pointerId]=t}function qt(t){Rt[t.pointerId]&&(Rt[t.pointerId]=t)}function Vt(t){delete Rt[t.pointerId]}function Ut(t,e){for(var n in t.touches=[],Rt)t.touches.push(Rt[n]);t.changedTouches=[t],e(t)}function Gt(t,e,n){var i=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Ut(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(It,i,!1)}function Kt(t,e,n){var i=function(t){Ut(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Bt,i,!1),t.addEventListener(Ot,i,!1)}var Yt=bt?"MSPointerDown":Lt?"pointerdown":"touchstart",Xt=bt?"MSPointerUp":Lt?"pointerup":"touchend",Jt="_leaflet_";function $t(t,e,n){var i,o,r=!1,s=250;function a(t){if(Lt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),n=e-(i||e);o=t.touches?t.touches[0]:t,r=n>0&&n<=s,i=e}function h(t){if(r&&!o.cancelBubble){if(Lt){if("mouse"===t.pointerType)return;var n,s,a={};for(s in o)n=o[s],a[s]=n&&n.bind?n.bind(o):n;o=a}o.type="dblclick",o.button=0,e(o),i=null}}return t[Jt+Yt+n]=a,t[Jt+Xt+n]=h,t[Jt+"dblclick"+n]=e,t.addEventListener(Yt,a,!!St&&{passive:!1}),t.addEventListener(Xt,h,!!St&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function Qt(t,e){var n=t[Jt+Yt+e],i=t[Jt+Xt+e],o=t[Jt+"dblclick"+e];return t.removeEventListener(Yt,n,!!St&&{passive:!1}),t.removeEventListener(Xt,i,!!St&&{passive:!1}),t.removeEventListener("dblclick",o,!1),this}var te,ee,ne,ie,oe,re=be(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),se=be(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ae="webkitTransition"===se||"OTransition"===se?se+"End":"transitionend";function he(t){return"string"==typeof t?document.getElementById(t):t}function ue(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function le(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ce(t){var e=t.parentNode;e&&e.removeChild(t)}function de(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function pe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function fe(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function _e(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=ye(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function me(t,e){if(void 0!==t.classList)for(var n=d(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!_e(t,e)){var r=ye(t);ve(t,(r?r+" ":"")+e)}}function ge(t,e){void 0!==t.classList?t.classList.remove(e):ve(t,c((" "+ye(t)+" ").replace(" "+e+" "," ")))}function ve(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ye(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function xe(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&we(t,e)}function we(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function be(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Le(t,e,n){var i=e||new Z(0,0);t.style[re]=(_t?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Pe(t,e){t._leaflet_pos=e,vt?Le(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Me(t){return t._leaflet_pos||new Z(0,0)}if("onselectstart"in document)te=function(){Ne(window,"selectstart",qe)},ee=function(){Be(window,"selectstart",qe)};else{var Te=be(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);te=function(){if(Te){var t=document.documentElement.style;ne=t[Te],t[Te]="none"}},ee=function(){Te&&(document.documentElement.style[Te]=ne,ne=void 0)}}function Ce(){Ne(window,"dragstart",qe)}function Se(){Be(window,"dragstart",qe)}function ke(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ze(),ie=t,oe=t.style.outline,t.style.outline="none",Ne(window,"keydown",ze))}function ze(){ie&&(ie.style.outline=oe,ie=void 0,oe=void 0,Be(window,"keydown",ze))}function Ae(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Ee(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ze={TRANSFORM:re,TRANSITION:se,TRANSITION_END:ae,get:he,getStyle:ue,create:le,remove:ce,empty:de,toFront:pe,toBack:fe,hasClass:_e,addClass:me,removeClass:ge,setClass:ve,getClass:ye,setOpacity:xe,testProp:be,setTransform:Le,setPosition:Pe,getPosition:Me,disableTextSelection:te,enableTextSelection:ee,disableImageDrag:Ce,enableImageDrag:Se,preventOutline:ke,restoreOutline:ze,getSizedParentNode:Ae,getScale:Ee};function Ne(t,e,n,i){if("object"==typeof e)for(var o in e)De(t,o,e[o],n);else for(var r=0,s=(e=d(e)).length;r<s;r++)De(t,e[r],n,i);return this}var Ie="_leaflet_events";function Be(t,e,n,i){if("object"==typeof e)for(var o in e)je(t,o,e[o],n);else if(e)for(var r=0,s=(e=d(e)).length;r<s;r++)je(t,e[r],n,i);else{for(var a in t[Ie])je(t,a,t[Ie][a]);delete t[Ie]}return this}function Oe(){if(Lt)return!(nt||ct)}var Re={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function De(t,e,n,i){var o=e+s(n)+(i?"_"+s(i):"");if(t[Ie]&&t[Ie][o])return this;var r=function(e){return n.call(i||t,e||window.event)},a=r;Lt&&0===e.indexOf("touch")?jt(t,e,r,o):Pt&&"dblclick"===e&&!Oe()?$t(t,r,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Re[e]||e,r,!!St&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,$e(t,e)&&a(e)},t.addEventListener(Re[e],r,!1)):t.addEventListener(e,a,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[Ie]=t[Ie]||{},t[Ie][o]=r}function je(t,e,n,i){var o=e+s(n)+(i?"_"+s(i):""),r=t[Ie]&&t[Ie][o];if(!r)return this;Lt&&0===e.indexOf("touch")?Ft(t,e,o):Pt&&"dblclick"===e&&!Oe()?Qt(t,o):"removeEventListener"in t?t.removeEventListener(Re[e]||e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[Ie][o]=null}function Fe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Je(t),this}function He(t){return De(t,"wheel",Fe),this}function We(t){return Ne(t,"mousedown touchstart dblclick",Fe),De(t,"click",Xe),this}function qe(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ve(t){return qe(t),Fe(t),this}function Ue(t,e){if(!e)return new Z(t.clientX,t.clientY);var n=Ee(e),i=n.boundingClientRect;return new Z((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ge=ft&&ut?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function Ke(t){return nt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ge:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ye={};function Xe(t){Ye[t.type]=!0}function Je(t){var e=Ye[t.type];return Ye[t.type]=!1,e}function $e(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Qe={on:Ne,off:Be,stopPropagation:Fe,disableScrollPropagation:He,disableClickPropagation:We,preventDefault:qe,stop:Ve,getMousePosition:Ue,getWheelDelta:Ke,fakeStop:Xe,skipped:Je,isExternalTarget:$e,addListener:Ne,removeListener:Be},tn=E.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Me(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Pe(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),en=E.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(F(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=se&&vt&&!Mt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ne(this._proxy,ae,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(F(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof Z?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():D(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=D(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=I(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){me(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!vt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=F(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),h=a*this.getZoomScale(s,e),u=o.distanceTo(i)||1,l=1.42,c=l*l;function d(t){var e=(h*h-a*a+(t?-1:1)*c*c*u*u)/(2*(t?h:a)*c*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}function _(t){return p(t)/f(t)}var m=d(0);function g(t){return a*(f(m)/f(m+l*t))}function v(t){return a*(f(m)*_(m+l*t)-p(m))/c}function y(t){return 1-Math.pow(1-t,1.5)}var x=Date.now(),w=(d(1)-m)/l,b=n.duration?1e3*n.duration:1e3*w*.8;function L(){var n=(Date.now()-x)/b,r=y(n)*w;n<=1?(this._flyToFrame=T(L,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(v(r)/u)),s),this.getScaleZoom(a/g(r),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),L.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=D(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,D(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=I((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),s=this.project(t),a=this.getPixelBounds(),h=a.getSize().divideBy(2),u=O([a.min.add(n),a.max.subtract(i)]);if(!u.contains(s)){this._enforcingBounds=!0;var l=r.subtract(s),c=I(s.x+l.x,s.y+l.y);(s.x<u.min.x||s.x>u.max.x)&&(c.x=r.x-l.x,l.x>0?c.x+=h.x-n.x:c.x-=h.x-i.x),(s.y<u.min.y||s.y>u.max.y)&&(c.y=r.y-l.y,l.y>0?c.y+=h.y-n.y:c.y-=h.y-i.y),this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=e.divideBy(2).round(),s=i.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new j(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ce(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=le("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new R(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=D(t),n=I(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),h=this.getSize().subtract(n),u=O(this.project(a,i),this.project(s,i)).getSize(),l=vt?this.options.zoomSnap:1,c=h.x/u.x,d=h.y/u.y,p=e?Math.max(c,d):Math.min(c,d);return i=this.getScaleZoom(p,i),l&&(i=Math.round(i/(l/100))*(l/100),i=e?Math.ceil(i/l)*l:Math.floor(i/l)*l),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new Z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new B(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(F(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(F(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(F(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(D(t))},distance:function(t,e){return this.options.crs.distance(F(t),F(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(t)))},mouseEventToContainerPoint:function(t){return Ue(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ne(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt,me(t,"leaflet-container"+(Pt?" leaflet-touch":"")+(Ct?" leaflet-retina":"")+(et?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ue(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pe(this._mapPane,new Z(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(t.markerPane,"leaflet-zoom-hide"),me(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Pe(this._mapPane,new Z(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Pe(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Be:Ne;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),vt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[s(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!$e(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!$e(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Je(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||ke(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var o=n({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var r=i[0];"contextmenu"===e&&r.listens(e,!0)&&qe(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var h=0;h<i.length;h++)if(i[h].fire(e,s,!0),s.originalEvent._stopped||!1===i[h].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Me(this._mapPane)||new Z(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return O([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new B(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new B(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=O(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new Z(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=vt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=re,n=this._proxy.style[e];Le(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Le(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(T((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T((function(){this._moveEnd(!0)}),this))}});function nn(t,e){return new en(t,e)}var on=k.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return me(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),rn=function(t){return new on(t)};en.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=le("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=le("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ce(this._controlCorners[t]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return on.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=le("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),We(e),He(e);var i=this._section=le("section",t+"-list");n&&(this._map.on("click",this.collapse,this),ot||Ne(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=le("a",t+"-toggle",e);o.href="#",o.title="Layers",Pt?(Ne(o,"click",Ve),Ne(o,"click",this.expand,this)):Ne(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=le("div",t+"-base",i),this._separator=le("div",t+"-separator",i),this._overlaysList=le("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(o((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;de(this._baseLayersList),de(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+s(this),i),this._layerControlInputs.push(e),e.layerId=s(t.layer),Ne(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),an=function(t,e,n){return new sn(t,e,n)},hn=on.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=le("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=le("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),We(r),Ne(r,"click",Ve),Ne(r,"click",o,this),Ne(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ge(this._zoomInButton,e),ge(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&me(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&me(this._zoomInButton,e)}});en.mergeOptions({zoomControl:!0}),en.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new hn,this.addControl(this.zoomControl))}));var un=function(t){return new hn(t)},ln=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=le("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=le("div",e,n)),t.imperial&&(this._iScale=le("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),cn=function(t){return new ln(t)},dn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=le("div","leaflet-control-attribution"),We(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});en.mergeOptions({attributionControl:!0}),en.addInitHook((function(){this.options.attributionControl&&(new dn).addTo(this)}));var pn=function(t){return new dn(t)};on.Layers=sn,on.Zoom=hn,on.Scale=ln,on.Attribution=dn,rn.layers=an,rn.zoom=un,rn.scale=cn,rn.attribution=pn;var fn=k.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fn.addTo=function(t,e){return t.addHandler(e,this),this};var _n,mn={Events:A},gn=Pt?"touchstart mousedown":"mousedown",vn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},yn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},xn=E.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){p(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ne(this._dragStartTarget,gn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xn._dragging===this&&this.finishDrag(),Be(this._dragStartTarget,gn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!_e(this._element,"leaflet-zoom-anim")&&!(xn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(xn._dragging=this,this._preventOutline&&ke(this._element),Ce(),te(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ae(this._element);this._startPoint=new Z(e.clientX,e.clientY),this._parentScale=Ee(n),Ne(document,yn[t.type],this._onMove,this),Ne(document,vn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new Z(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,qe(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Me(this._element).subtract(n),me(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,C(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Pe(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yn)Be(document,yn[t],this._onMove,this),Be(document,vn[t],this._onUp,this);Se(),ee(),this._moved&&this._moving&&(C(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,xn._dragging=!1}});function wn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Pn(t=Tn(t,n),n)}function bn(t,e,n){return Math.sqrt(An(t,e,n,!0))}function Ln(t,e,n){return An(t,e,n)}function Pn(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,Mn(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}function Mn(t,e,n,i,o){var r,s,a,h=0;for(s=i+1;s<=o-1;s++)(a=An(t[s],t[i],t[o],!0))>h&&(r=s,h=a);h>n&&(e[r]=1,Mn(t,e,n,i,r),Mn(t,e,n,r,o))}function Tn(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)zn(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n}function Cn(t,e,n,i,o){var r,s,a,h=i?_n:kn(t,n),u=kn(e,n);for(_n=u;;){if(!(h|u))return[t,e];if(h&u)return!1;a=kn(s=Sn(t,e,r=h||u,n,o),n),r===h?(t=s,h=a):(e=s,u=a)}}function Sn(t,e,n,i,o){var r,s,a=e.x-t.x,h=e.y-t.y,u=i.min,l=i.max;return 8&n?(r=t.x+a*(l.y-t.y)/h,s=l.y):4&n?(r=t.x+a*(u.y-t.y)/h,s=u.y):2&n?(r=l.x,s=t.y+h*(l.x-t.x)/a):1&n&&(r=u.x,s=t.y+h*(u.x-t.x)/a),new Z(r,s,o)}function kn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function zn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function An(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,h=n.y-s,u=a*a+h*h;return u>0&&((o=((t.x-r)*a+(t.y-s)*h)/u)>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=h*o)),a=t.x-r,h=t.y-s,i?a*a+h*h:new Z(r,s)}function En(t){return!g(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Zn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(t)}var Nn={simplify:wn,pointToSegmentDistance:bn,closestPointOnSegment:Ln,clipSegment:Cn,_getEdgeIntersection:Sn,_getBitCode:kn,_sqClosestPointOnSegment:An,isFlat:En,_flat:Zn};function In(t,e,n){var i,o,r,s,a,h,u,l,c,d=[1,4,2,8];for(o=0,u=t.length;o<u;o++)t[o]._code=kn(t[o],e);for(s=0;s<4;s++){for(l=d[s],i=[],o=0,r=(u=t.length)-1;o<u;r=o++)a=t[o],h=t[r],a._code&l?h._code&l||((c=Sn(h,a,l,e,n))._code=kn(c,e),i.push(c)):(h._code&l&&((c=Sn(h,a,l,e,n))._code=kn(c,e),i.push(c)),i.push(a));t=i}return t}var Bn={clipPolygon:In},On={project:function(t){return new Z(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new B([-180,-90],[180,90])},Rn={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=r*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),r/2);return i=-n*Math.log(Math.max(a,1e-10)),new Z(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),h=0,u=.1;h<15&&Math.abs(u)>1e-7;h++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=u=Math.PI/2-2*Math.atan(s*e)-a;return new j(a*n,t.x*n/i)}},Dn={LonLat:On,Mercator:Rn,SphericalMercator:U},jn=n({},q,{code:"EPSG:3395",projection:Rn,transformation:function(){var t=.5/(Math.PI*Rn.R);return K(t,.5,-t,.5)}()}),Fn=n({},q,{code:"EPSG:4326",projection:On,transformation:K(1/180,1,-1/180,.5)}),Hn=n({},W,{projection:On,transformation:K(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});W.Earth=q,W.EPSG3395=jn,W.EPSG3857=Y,W.EPSG900913=X,W.EPSG4326=Fn,W.Simple=Hn;var Wn=E.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});en.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?g(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qn=Wn.extend({initialize:function(t,e){var n,i;if(p(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Vn=function(t,e){return new qn(t,e)},Un=qn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),qn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),qn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new R;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Gn=function(t,e){return new Un(t,e)},Kn=k.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=I(i),r=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ct&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Yn(t){return new Kn(t)}var Xn=Kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Xn.imagePath||(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+Kn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=le("div","leaflet-default-icon-path",document.body),e=ue(t,"background-image")||ue(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Jn=fn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new xn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=Me(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),h=O(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!h.contains(r)){var u=I((Math.max(h.max.x,r.x)-h.max.x)/(s.max.x-h.max.x)-(Math.min(h.min.x,r.x)-h.min.x)/(s.min.x-h.min.x),(Math.max(h.max.y,r.y)-h.max.y)/(s.max.y-h.max.y)-(Math.min(h.min.y,r.y)-h.min.y)/(s.min.y-h.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Pe(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Me(e._icon),o=e._map.layerPointToLatLng(i);n&&Pe(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),$n=Wn.extend({options:{icon:new Xn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=F(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),me(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(me(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Pe(this._icon,t),this._shadow&&Pe(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&xe(this._icon,t),this._shadow&&xe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qn(t,e){return new $n(t,e)}var ti=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ei=ti.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=F(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ti.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new B(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ni(t,e){return new ei(t,e)}var ii=ei.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),p(this,e),this._latlng=F(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ti.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===q.distance){var o=Math.PI/180,r=this._mRadius/q.R/o,s=n.project([e+r,t]),a=n.project([e-r,t]),h=s.add(a).divideBy(2),u=n.unproject(h).lat,l=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(u*o))/(Math.cos(e*o)*Math.cos(u*o)))/o;(isNaN(l)||0===l)&&(l=r/Math.cos(Math.PI/180*e)),this._point=h.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:h.x-n.project([u,t-l]).x,this._radiusY=h.y-s.y}else{var c=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x}this._updateBounds()}});function oi(t,e,n){return new ii(t,e,n)}var ri=ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=An,s=0,a=this._parts.length;s<a;s++)for(var h=this._parts[s],u=1,l=h.length;u<l;u++){var c=r(t,e=h[u-1],n=h[u],!0);c<i&&(i=c,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a=this._rings[0],h=a.length;if(!h)return null;for(t=0,e=0;t<h-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<h-1;t++)if(o=a[t],r=a[t+1],(i+=n=o.distanceTo(r))>e)return s=(i-e)/n,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=F(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new R,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=En(t),i=0,o=t.length;i<o;i++)n?(e[i]=F(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new Z(t,t);this._pxBounds=new B([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof j,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,s,a,h=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(a=this._rings[e]).length;n<r-1;n++)(s=Cn(a[n],a[n+1],t,n,!0))&&(h[i]=h[i]||[],h[i].push(s[0]),s[1]===a[n+1]&&n!==r-2||(h[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=wn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&bn(t,a[o],a[i])<=h)return!0;return!1}});function si(t,e){return new ri(t,e)}ri._flat=Zn;var ai=ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a,h,u=this._rings[0],l=u.length;if(!l)return null;for(r=s=a=0,t=0,e=l-1;t<l;e=t++)n=u[t],i=u[e],o=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*o,a+=(n.y+i.y)*o,r+=3*o;return h=0===r?u[0]:[s/r,a/r],this._map.layerPointToLatLng(h)},_convertLatLngs:function(t){var e=ri.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof j&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){ri.prototype._setLatLngs.call(this,t),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new Z(e,e);if(t=new B(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=In(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,h,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(h=(e=this._parts[o]).length)-1;r<h;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||ri.prototype._containsPoint.call(this,t,!0)}});function hi(t,e){return new ai(t,e)}var ui=Un.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=g(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=li(t,r);return s?(s.feature=gi(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function li(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,h=[],u=e&&e.pointToLayer,l=e&&e.coordsToLatLng||di;if(!a&&!s)return null;switch(s.type){case"Point":return ci(u,t,n=l(a),e);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=l(a[o]),h.push(ci(u,t,n,e));return new Un(h);case"LineString":case"MultiLineString":return i=pi(a,"LineString"===s.type?0:1,l),new ri(i,e);case"Polygon":case"MultiPolygon":return i=pi(a,"Polygon"===s.type?1:2,l),new ai(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var c=li({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);c&&h.push(c)}return new Un(h);default:throw new Error("Invalid GeoJSON object.")}}function ci(t,e,n,i){return t?t(e,n):new $n(n,i&&i.markersInheritOptions&&i)}function di(t){return new j(t[1],t[0],t[2])}function pi(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?pi(t[r],e-1,n):(n||di)(t[r]),o.push(i);return o}function fi(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[l(t.lng,e),l(t.lat,e),l(t.alt,e)]:[l(t.lng,e),l(t.lat,e)]}function _i(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?_i(t[r],e-1,n,i):fi(t[r],i));return!e&&n&&o.push(o[0]),o}function mi(t,e){return t.feature?n({},t.feature,{geometry:e}):gi(e)}function gi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var vi={toGeoJSON:function(t){return mi(this,{type:"Point",coordinates:fi(this.getLatLng(),t)})}};function yi(t,e){return new ui(t,e)}$n.include(vi),ii.include(vi),ei.include(vi),ri.include({toGeoJSON:function(t){var e=!En(this._latlngs);return mi(this,{type:(e?"Multi":"")+"LineString",coordinates:_i(this._latlngs,e?1:0,!1,t)})}}),ai.include({toGeoJSON:function(t){var e=!En(this._latlngs),n=e&&!En(this._latlngs[0]),i=_i(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),mi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),qn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),mi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=gi(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?mi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var xi=yi,wi=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=D(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&pe(this._image),this},bringToBack:function(){return this._map&&fe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=D(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:le("img");me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Le(this._image,n,e)},_reset:function(){var t=this._image,e=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Pe(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),bi=function(t,e,n){return new wi(t,e,n)},Li=wi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:le("video");if(me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=o(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=n.length>0?i:[e.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var s=0;s<this._url.length;s++){var a=le("source");a.src=this._url[s],e.appendChild(a)}}}});function Pi(t,e,n){return new Li(t,e,n)}var Mi=wi.extend({_initImage:function(){var t=this._image=this._url;me(t,"leaflet-image-layer"),this._zoomAnimated&&me(t,"leaflet-zoom-animated"),this.options.className&&me(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function Ti(t,e,n){return new Mi(t,e,n)}var Ci=Wn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&xe(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(xe(this._container,0),this._removeTimeout=setTimeout(o(ce,void 0,this._container),200)):ce(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=F(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pe(this._container),this},bringToBack:function(){return this._map&&fe(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Wn||(n=e,e=t),e instanceof Un)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?Pe(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Si=Ci.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ci.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ti||this._source.on("preclick",Fe))},onRemove:function(t){Ci.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ti||this._source.off("preclick",Fe))},getEvents:function(){var t=Ci.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=le("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=le("div",t+"-content-wrapper",e);if(this._contentNode=le("div",t+"-content",n),We(e),He(this._contentNode),Ne(e,"contextmenu",Fe),this._tipContainer=le("div",t+"-tip-container",e),this._tip=le("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=le("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Ne(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",me(t,r)):ge(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Pe(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ue(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new Z(this._containerLeft,-n-this._containerBottom);o._add(Me(this._container));var r=t.layerPointToContainerPoint(o),s=I(this.options.autoPanPadding),a=I(this.options.autoPanPaddingTopLeft||s),h=I(this.options.autoPanPaddingBottomRight||s),u=t.getSize(),l=0,c=0;r.x+i+h.x>u.x&&(l=r.x+i-u.x+h.x),r.x-l-a.x<0&&(l=r.x-a.x),r.y+n+h.y>u.y&&(c=r.y+n-u.y+h.y),r.y-c-a.y<0&&(c=r.y-a.y),(l||c)&&t.fire("autopanstart").panBy([l,c])}},_onCloseButtonClick:function(t){this._close(),Ve(t)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ki=function(t,e){return new Si(t,e)};en.mergeOptions({closePopupOnClick:!0}),en.include({openPopup:function(t,e,n){return t instanceof Si||(t=new Si(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Wn.include({bindPopup:function(t,e){return t instanceof Si?(p(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Si(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ve(t),e instanceof ti?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var zi=Ci.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ci.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ci.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ci.prototype.getEvents.call(this);return Pt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,r=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),a=this.options.direction,h=o.offsetWidth,u=o.offsetHeight,l=I(this.options.offset),c=this._getAnchor();"top"===a?(e=h/2,n=u):"bottom"===a?(e=h/2,n=0):"center"===a?(e=h/2,n=u/2):"right"===a?(e=0,n=u/2):"left"===a?(e=h,n=u/2):s.x<r.x?(a="right",e=0,n=u/2):(a="left",e=h+2*(l.x+c.x),n=u/2),t=t.subtract(I(e,n,!0)).add(l).add(c),ge(o,"leaflet-tooltip-right"),ge(o,"leaflet-tooltip-left"),ge(o,"leaflet-tooltip-top"),ge(o,"leaflet-tooltip-bottom"),me(o,"leaflet-tooltip-"+a),Pe(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&xe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ai=function(t,e){return new zi(t,e)};en.include({openTooltip:function(t,e,n){return t instanceof zi||(t=new zi(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Wn.include({bindTooltip:function(t,e){return t instanceof zi?(p(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new zi(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Pt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(me(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ge(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ei=Kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(de(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=I(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Zi(t){return new Ei(t)}Kn.Default=Xn;var Ni=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ce(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Z?t:new Z(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!et){xe(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);xe(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(C(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ce(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),u(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ce(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=new Z(+o,+r);a.z=+s;var h=this._tileCoordsToKey(a),u=this._tiles[h];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),s>i&&this._retainParent(o,r,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new Z(o,r);s.z=n+1;var a=this._tileCoordsToKey(s),h=this._tiles[a];h&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();vt?Le(t.el,o,i):Pe(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new B(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],a=this.options.keepBuffer,h=new B(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var l=this._tiles[u].coords;l.z===this._tileZoom&&h.contains(new Z(l.x,l.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var c=o.min.y;c<=o.max.y;c++)for(var d=o.min.x;d<=o.max.x;d++){var p=new Z(d,c);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],_);this._level.el.appendChild(_)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return D(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new R(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new Z(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ce(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){me(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,et&&this.options.opacity<1&&xe(t,this.options.opacity),ot&&!rt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&T(o(this._tileReady,this,t,null,r)),Pe(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(xe(n.el,0),C(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(me(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new Z(this._wrapX?h(t.x,this._wrapX):t.x,this._wrapY?h(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new B(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ii(t){return new Ni(t)}var Bi=Ni.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&Ct&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ot||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ne(n,"load",o(this._tileOnLoad,this,e,n)),Ne(n,"error",o(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Ct?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return m(this._url,n(e,this.options))},_tileOnLoad:function(t,e){et?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,e.complete||(e.src=y,ce(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return at||e.el.setAttribute("src",y),Ni.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return Ni.prototype._tileReady.call(this,t,e,n)}});function Oi(t,e){return new Bi(t,e)}var Ri=Bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);var r=(e=p(this,e)).detectRetina&&Ct?2:1,s=this.getTileSize();i.width=s.x*r,i.height=s.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Bi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=O(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,s=(this._wmsVersion>=1.3&&this._crs===Fn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=Bi.prototype.getTileUrl.call(this,t);return a+f(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Di(t,e){return new Ri(t,e)}Bi.WMS=Ri,Oi.wms=Di;var ji=Wn.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=Me(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e).subtract(r),a=o.multiplyBy(-n).add(i).add(o).subtract(s);vt?Le(this._container,a,n):Pe(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new B(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fi=ji.extend({getEvents:function(){var t=ji.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ji.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ne(t,"mousemove",this._onMouseMove,this),Ne(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ne(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,ce(this._container),Be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ji.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Ct?2:1;Pe(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Ct&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ji.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,h=this._ctx;if(a){for(h.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],h[i?"lineTo":"moveTo"](r.x,r.y);e&&h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(n=e);n&&(Xe(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ge(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(me(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(o((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Hi(t){return kt?new Fi(t):null}var Wi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),qi={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ji.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Wi("shape");me(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Wi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ce(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Wi("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Wi("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){pe(t._container)},_bringToBack:function(t){fe(t._container)}},Vi=At?Wi:J,Ui=ji.extend({getEvents:function(){var t=ji.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Vi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),Be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ji.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Pe(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Vi("path");t.options.className&&me(e,t.options.className),t.options.interactive&&me(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ce(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,$(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){pe(t._path)},_bringToBack:function(t){fe(t._path)}});function Gi(t){return zt||At?new Ui(t):null}At&&Ui.include(qi),en.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Hi(t)||Gi(t)}});var Ki=ai.extend({initialize:function(t,e){ai.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=D(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Yi(t,e){return new Ki(t,e)}Ui.create=Vi,Ui.pointsToPath=$,ui.geometryToLayer=li,ui.coordsToLatLng=di,ui.coordsToLatLngs=pi,ui.latLngToCoords=fi,ui.latLngsToCoords=_i,ui.getFeature=mi,ui.asFeature=gi,en.mergeOptions({boxZoom:!0});var Xi=fn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),te(),Ce(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ne(document,{contextmenu:Ve,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new B(this._point,this._startPoint),n=e.getSize();Pe(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ce(this._box),ge(this._container,"leaflet-crosshair")),ee(),Se(),Be(document,{contextmenu:Ve,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});en.addInitHook("addHandler","boxZoom",Xi),en.mergeOptions({doubleClickZoom:!0});var Ji=fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});en.addInitHook("addHandler","doubleClickZoom",Ji),en.mergeOptions({dragging:!0,inertia:!rt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $i=fn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new xn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=D(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=o.multiplyBy(s/r),h=a.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,h),l=a.multiplyBy(u/h),c=u/(n.inertiaDeceleration*s),d=l.multiplyBy(-c/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),T((function(){e.panBy(d,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});en.addInitHook("addHandler","dragging",$i),en.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qi=fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ne(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ve(t)}}});en.addInitHook("addHandler","keyboard",Qi),en.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var to=fn.extend({addHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ke(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),i),Ve(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});en.addInitHook("addHandler","scrollWheelZoom",to),en.mergeOptions({tap:!0,tapTolerance:15});var eo=fn.extend({addHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(qe(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new Z(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&me(n,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Ne(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Be(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ge(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new Z(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!Pt||Lt&&!ct||en.addInitHook("addHandler","tap",eo),en.mergeOptions({touchZoom:Pt&&!rt,bounceAtZoomLimits:!0});var no=fn.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend",this._onTouchEnd,this),qe(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var a=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(a,this,!0),qe(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});en.addInitHook("addHandler","touchZoom",no),en.BoxZoom=Xi,en.DoubleClickZoom=Ji,en.Drag=$i,en.Keyboard=Qi,en.ScrollWheelZoom=to,en.Tap=eo,en.TouchZoom=no,t.version=e,t.Control=on,t.control=rn,t.Browser=Zt,t.Evented=E,t.Mixin=mn,t.Util=S,t.Class=k,t.Handler=fn,t.extend=n,t.bind=o,t.stamp=s,t.setOptions=p,t.DomEvent=Qe,t.DomUtil=Ze,t.PosAnimation=tn,t.Draggable=xn,t.LineUtil=Nn,t.PolyUtil=Bn,t.Point=Z,t.point=I,t.Bounds=B,t.bounds=O,t.Transformation=G,t.transformation=K,t.Projection=Dn,t.LatLng=j,t.latLng=F,t.LatLngBounds=R,t.latLngBounds=D,t.CRS=W,t.GeoJSON=ui,t.geoJSON=yi,t.geoJson=xi,t.Layer=Wn,t.LayerGroup=qn,t.layerGroup=Vn,t.FeatureGroup=Un,t.featureGroup=Gn,t.ImageOverlay=wi,t.imageOverlay=bi,t.VideoOverlay=Li,t.videoOverlay=Pi,t.SVGOverlay=Mi,t.svgOverlay=Ti,t.DivOverlay=Ci,t.Popup=Si,t.popup=ki,t.Tooltip=zi,t.tooltip=Ai,t.Icon=Kn,t.icon=Yn,t.DivIcon=Ei,t.divIcon=Zi,t.Marker=$n,t.marker=Qn,t.TileLayer=Bi,t.tileLayer=Oi,t.GridLayer=Ni,t.gridLayer=Ii,t.SVG=Ui,t.svg=Gi,t.Renderer=ji,t.Canvas=Fi,t.canvas=Hi,t.Path=ti,t.CircleMarker=ei,t.circleMarker=ni,t.Circle=ii,t.circle=oi,t.Polyline=ri,t.polyline=si,t.Polygon=ai,t.polygon=hi,t.Rectangle=Ki,t.rectangle=Yi,t.Map=en,t.map=nn;var io=window.L;t.noConflict=function(){return window.L=io,this},window.L=t}(e)}(t={exports:{}},t.exports),t.exports),n={type:"FeatureCollection",name:"f1-circuits",bbox:[-99.09685,-37.853914,144.978558,52.391811],features:[{type:"Feature",properties:{id:"au-1953",Location:"Melbourne",Name:"Albert Park Circuit",opened:1953,firstgp:1996,length:5027,altitude:10},bbox:[144.962151,-37.853914,144.978558,-37.838006],geometry:{type:"LineString",coordinates:[[144.968644,-37.849757],[144.966075,-37.847735],[144.966016,-37.847655],[144.965998,-37.847593],[144.966028,-37.847504],[144.966099,-37.84741],[144.966164,-37.847287],[144.966229,-37.847141],[144.966253,-37.846962],[144.966253,-37.846811],[144.966217,-37.84657],[144.96614,-37.846438],[144.966034,-37.846292],[144.965898,-37.846151],[144.964897,-37.845401],[144.964264,-37.844874],[144.963714,-37.844331],[144.963222,-37.843799],[144.962796,-37.843266],[144.962186,-37.842399],[144.962151,-37.842305],[144.962157,-37.84221],[144.962216,-37.842144],[144.962334,-37.842097],[144.963495,-37.841923],[144.963619,-37.84188],[144.96369,-37.841819],[144.963743,-37.841744],[144.963761,-37.841668],[144.963743,-37.841531],[144.963696,-37.840033],[144.963714,-37.839915],[144.963785,-37.839811],[144.963873,-37.839717],[144.963998,-37.839637],[144.96514,-37.838986],[144.965501,-37.838831],[144.966655,-37.838486],[144.967075,-37.838345],[144.967431,-37.838194],[144.967756,-37.838029],[144.967863,-37.838006],[144.967957,-37.838024],[144.96804,-37.838076],[144.968165,-37.83818],[144.968378,-37.838307],[144.968638,-37.83842],[144.968922,-37.838496],[144.96923,-37.838529],[144.969502,-37.838543],[144.96978,-37.838581],[144.9701,-37.838656],[144.970449,-37.838788],[144.970722,-37.838939],[144.970958,-37.839132],[144.97113,-37.839302],[144.971319,-37.839552],[144.97142,-37.839736],[144.971491,-37.839957],[144.971532,-37.84016],[144.971976,-37.842064],[144.971988,-37.842149],[144.971959,-37.842206],[144.971911,-37.842248],[144.971834,-37.842272],[144.971669,-37.842305],[144.971461,-37.84238],[144.971272,-37.842479],[144.971159,-37.842583],[144.971065,-37.84271],[144.970982,-37.84288],[144.970627,-37.844412],[144.970609,-37.84461],[144.970609,-37.844784],[144.970674,-37.845345],[144.970757,-37.84559],[144.970858,-37.845849],[144.971,-37.846132],[144.971142,-37.846349],[144.971378,-37.846641],[144.971615,-37.846882],[144.971893,-37.847117],[144.972935,-37.847838],[144.973095,-37.847933],[144.973249,-37.848003],[144.973409,-37.848051],[144.973586,-37.848084],[144.973764,-37.848102],[144.973989,-37.848102],[144.974255,-37.848093],[144.974462,-37.848098],[144.974652,-37.848117],[144.974829,-37.848154],[144.974977,-37.848201],[144.975131,-37.848263],[144.975279,-37.848343],[144.976492,-37.849182],[144.976919,-37.849498],[144.977114,-37.849658],[144.977286,-37.849823],[144.977439,-37.850016],[144.977605,-37.850308],[144.977777,-37.850704],[144.978162,-37.85176],[144.978529,-37.852788],[144.978558,-37.852962],[144.97854,-37.853075],[144.978463,-37.85316],[144.978304,-37.853236],[144.976256,-37.853872],[144.976037,-37.853914],[144.975865,-37.853905],[144.975676,-37.853863],[144.975516,-37.853787],[144.975409,-37.853684],[144.975303,-37.853556],[144.974551,-37.852467],[144.974338,-37.852194],[144.974255,-37.852119],[144.974202,-37.852081],[144.974113,-37.852067],[144.974042,-37.852086],[144.973953,-37.852137],[144.973344,-37.852703],[144.973202,-37.852793],[144.973024,-37.852844],[144.97284,-37.852863],[144.972651,-37.852849],[144.972462,-37.852783],[144.972296,-37.852675],[144.968644,-37.849757]]}},{type:"Feature",properties:{id:"bh-2002",Location:"Sakhir",Name:"Bahrain International Circuit",opened:2002,firstgp:2004,length:5412,altitude:-16},bbox:[50.510278,26.026086,50.518387,26.036885],geometry:{type:"LineString",coordinates:[[50.510539,26.031766],[50.510633,26.034797],[50.510722,26.036782],[50.510764,26.036871],[50.510852,26.036885],[50.510947,26.036862],[50.511018,26.036815],[50.511474,26.0364],[50.511598,26.036358],[50.511734,26.036367],[50.512527,26.036598],[50.512717,26.036617],[50.512889,26.036607],[50.518091,26.035702],[50.518269,26.035655],[50.518364,26.035566],[50.518387,26.035452],[50.518369,26.035344],[50.51831,26.035222],[50.518198,26.035099],[50.518068,26.035],[50.51789,26.034877],[50.517263,26.034458],[50.516759,26.033987],[50.516635,26.033878],[50.516535,26.033723],[50.51631,26.033265],[50.516233,26.033166],[50.516114,26.033096],[50.515996,26.033039],[50.515807,26.03302],[50.515238,26.033105],[50.515084,26.0331],[50.514925,26.033072],[50.514794,26.033011],[50.514635,26.032879],[50.51348,26.031564],[50.513368,26.031474],[50.513208,26.031451],[50.513108,26.031521],[50.513072,26.031663],[50.513078,26.031879],[50.513356,26.033369],[50.513516,26.034302],[50.51354,26.034486],[50.51351,26.034656],[50.513469,26.034783],[50.513386,26.03491],[50.512912,26.035278],[50.512847,26.035306],[50.512776,26.035288],[50.512735,26.035222],[50.512563,26.034071],[50.512516,26.033303],[50.512433,26.031922],[50.512374,26.030479],[50.512314,26.029164],[50.512338,26.028948],[50.512433,26.02882],[50.512581,26.02875],[50.512788,26.028712],[50.513001,26.028726],[50.513267,26.028773],[50.51354,26.028891],[50.51377,26.029037],[50.513995,26.029244],[50.514132,26.029447],[50.514386,26.030041],[50.514528,26.030291],[50.514664,26.030437],[50.514842,26.030569],[50.515055,26.030687],[50.515351,26.030753],[50.515676,26.030758],[50.515907,26.03071],[50.516215,26.030578],[50.517026,26.030216],[50.517192,26.030107],[50.517334,26.02998],[50.517405,26.029862],[50.517493,26.02973],[50.517493,26.029612],[50.517422,26.02949],[50.51728,26.029367],[50.517085,26.029235],[50.510941,26.026143],[50.510829,26.026091],[50.510651,26.026086],[50.510574,26.026152],[50.510302,26.026671],[50.510278,26.026878],[50.510284,26.027269],[50.510361,26.029414],[50.510539,26.031766]]}},{type:"Feature",properties:{id:"cn-2004",Location:"Shanghai",Name:"Shanghai International Circuit",opened:2004,firstgp:2004,length:5451,altitude:14},bbox:[121.214959,31.335826,121.227856,31.345484],geometry:{type:"LineString",coordinates:[[121.21838,31.336835],[121.217409,31.336627],[121.217232,31.336613],[121.217019,31.336613],[121.216829,31.336665],[121.216699,31.336712],[121.216527,31.336806],[121.216403,31.336901],[121.216308,31.337009],[121.216237,31.337136],[121.216178,31.337264],[121.216172,31.3374],[121.216178,31.337556],[121.216202,31.337674],[121.216243,31.337787],[121.21632,31.337886],[121.216427,31.337971],[121.216664,31.33806],[121.216883,31.33806],[121.217054,31.338004],[121.217125,31.337938],[121.217173,31.337867],[121.217178,31.337768],[121.217143,31.337627],[121.217072,31.337415],[121.217054,31.337325],[121.217096,31.337235],[121.217196,31.337141],[121.217368,31.337085],[121.217557,31.337118],[121.217658,31.337174],[121.217723,31.337268],[121.217782,31.337363],[121.217841,31.33749],[121.217877,31.337631],[121.217889,31.337792],[121.217859,31.337928],[121.217764,31.338079],[121.217699,31.338173],[121.217504,31.338376],[121.216983,31.338852],[121.216581,31.3393],[121.216249,31.339606],[121.215835,31.340007],[121.215705,31.340196],[121.215645,31.340332],[121.215219,31.341402],[121.215083,31.341723],[121.214965,31.342039],[121.214959,31.342119],[121.215012,31.342185],[121.215119,31.342223],[121.215302,31.342194],[121.215492,31.342086],[121.215651,31.341973],[121.215811,31.341827],[121.216036,31.341629],[121.216231,31.341384],[121.216575,31.34087],[121.217036,31.340177],[121.217184,31.339984],[121.217332,31.339833],[121.217498,31.339696],[121.217693,31.339606],[121.217901,31.33954],[121.218114,31.339503],[121.218362,31.339503],[121.218581,31.33954],[121.218794,31.339606],[121.219007,31.33972],[121.219209,31.339861],[121.219368,31.340021],[121.21954,31.340337],[121.219806,31.340818],[121.219919,31.340964],[121.220037,31.341063],[121.220185,31.341138],[121.220404,31.341219],[121.220611,31.341233],[121.220789,31.341219],[121.220949,31.341167],[121.221091,31.341087],[121.221191,31.341016],[121.22128,31.340931],[121.221718,31.340205],[121.221825,31.340106],[121.221955,31.340073],[121.222079,31.340092],[121.222192,31.34013],[121.22263,31.340625],[121.222689,31.340724],[121.222689,31.340813],[121.222653,31.340903],[121.221582,31.342458],[121.220913,31.343382],[121.220179,31.344419],[121.220079,31.344447],[121.219978,31.344424],[121.219883,31.344353],[121.219771,31.344245],[121.219664,31.344132],[121.219564,31.344075],[121.219439,31.344042],[121.219309,31.344061],[121.219179,31.34416],[121.219025,31.344306],[121.218948,31.344424],[121.218901,31.344532],[121.218877,31.344693],[121.218889,31.344839],[121.218919,31.34498],[121.218972,31.345112],[121.219114,31.345272],[121.21925,31.345362],[121.219439,31.345433],[121.219641,31.34547],[121.219801,31.345484],[121.219996,31.345475],[121.22025,31.345423],[121.220416,31.345362],[121.220588,31.345282],[121.220824,31.345093],[121.221032,31.344843],[121.223281,31.341902],[121.224684,31.340092],[121.225412,31.339149],[121.226051,31.338296],[121.226897,31.337217],[121.227803,31.336085],[121.227856,31.335986],[121.22785,31.335892],[121.227773,31.335826],[121.227649,31.335835],[121.227394,31.335939],[121.227246,31.336029],[121.227081,31.336132],[121.225347,31.338155],[121.22527,31.338192],[121.225128,31.338202],[121.222955,31.337763],[121.21838,31.336835]]}},{type:"Feature",properties:{id:"az-2016",Location:"Baku",Name:"Baku City Circuit",opened:2016,firstgp:2016,length:6003,altitude:-25},bbox:[49.830927,40.362639,49.855189,40.376148],geometry:{type:"LineString",coordinates:[[49.853247,40.372688],[49.851442,40.372113],[49.848684,40.371218],[49.847606,40.370845],[49.844949,40.369978],[49.84386,40.369591],[49.842635,40.3692],[49.84225,40.369059],[49.841836,40.368889],[49.841469,40.368705],[49.838752,40.367098],[49.838586,40.366985],[49.838444,40.366824],[49.838373,40.366655],[49.838207,40.365792],[49.83813,40.365632],[49.837976,40.365467],[49.836088,40.364156],[49.835911,40.363982],[49.835757,40.363765],[49.835094,40.362832],[49.834993,40.362747],[49.834839,40.362667],[49.83462,40.362639],[49.834431,40.362662],[49.834094,40.362756],[49.833478,40.362964],[49.831282,40.363841],[49.831152,40.363958],[49.831099,40.364076],[49.830927,40.365957],[49.830963,40.366141],[49.831489,40.367503],[49.831643,40.367744],[49.831809,40.367913],[49.832022,40.368045],[49.833093,40.368535],[49.834715,40.369139],[49.835733,40.369408],[49.835875,40.369403],[49.83597,40.369356],[49.836035,40.369294],[49.836171,40.368955],[49.836248,40.368865],[49.836402,40.368818],[49.836544,40.368828],[49.836692,40.368832],[49.836834,40.368804],[49.837065,40.368696],[49.837219,40.368696],[49.837337,40.368677],[49.837414,40.368616],[49.838053,40.367183],[49.838195,40.367065],[49.838367,40.36706],[49.838539,40.36715],[49.838947,40.367432],[49.841362,40.368856],[49.841764,40.369125],[49.841853,40.369191],[49.841859,40.369276],[49.841682,40.369572],[49.841658,40.369667],[49.841723,40.369733],[49.842783,40.370251],[49.84357,40.370581],[49.844961,40.371081],[49.845085,40.371189],[49.845079,40.371312],[49.84428,40.372891],[49.84428,40.373065],[49.84444,40.373193],[49.846884,40.374046],[49.849719,40.375017],[49.851797,40.37563],[49.853496,40.376148],[49.853602,40.376134],[49.853685,40.376092],[49.854188,40.37522],[49.854798,40.374319],[49.855159,40.373607],[49.855189,40.37349],[49.855177,40.373409],[49.855117,40.373325],[49.855023,40.373268],[49.853247,40.372688]]}},{type:"Feature",properties:{id:"es-1991",Location:"Barcelona",Name:"Circuit de Barcelona-Catalunya",opened:1991,firstgp:1991,length:4655,altitude:165},bbox:[2.252175,41.564187,2.263729,41.574661],geometry:{type:"LineString",coordinates:[[2.261284,41.570051],[2.25981,41.568288],[2.25894,41.56726],[2.258064,41.566219],[2.257106,41.565087],[2.256875,41.5648],[2.25678,41.56471],[2.25665,41.564663],[2.256508,41.564635],[2.256378,41.56463],[2.256283,41.564644],[2.2562,41.564668],[2.256034,41.564753],[2.255851,41.564837],[2.255703,41.56488],[2.255549,41.564894],[2.255407,41.564894],[2.255265,41.564866],[2.255111,41.564795],[2.254448,41.564437],[2.254217,41.564314],[2.254028,41.564248],[2.25385,41.564215],[2.253696,41.564196],[2.253525,41.564187],[2.253377,41.564201],[2.253164,41.564229],[2.252986,41.564281],[2.25285,41.564343],[2.252732,41.564409],[2.252625,41.564484],[2.252518,41.564574],[2.25243,41.564687],[2.252341,41.564795],[2.252258,41.564955],[2.252199,41.565144],[2.252175,41.565328],[2.252193,41.565535],[2.25224,41.565771],[2.252305,41.565978],[2.252406,41.566204],[2.252542,41.566393],[2.252761,41.566681],[2.254046,41.568198],[2.254134,41.568279],[2.254247,41.568349],[2.254401,41.56841],[2.254572,41.568434],[2.254768,41.56842],[2.254975,41.568354],[2.255146,41.56825],[2.255271,41.568128],[2.255359,41.568],[2.255407,41.567859],[2.255431,41.567685],[2.255413,41.567524],[2.255365,41.567369],[2.255294,41.567223],[2.255206,41.567109],[2.254152,41.56587],[2.254057,41.565747],[2.254016,41.565639],[2.254051,41.565521],[2.254111,41.565431],[2.254253,41.565342],[2.254383,41.565299],[2.254537,41.565299],[2.254679,41.565342],[2.25623,41.565879],[2.256437,41.565969],[2.256608,41.566068],[2.256851,41.566228],[2.257117,41.56645],[2.257721,41.567157],[2.257816,41.567284],[2.257851,41.567392],[2.257822,41.567515],[2.257733,41.567619],[2.257603,41.567708],[2.257425,41.567793],[2.257248,41.567878],[2.257117,41.567977],[2.256993,41.568099],[2.256916,41.568227],[2.256502,41.568938],[2.256076,41.569693],[2.25604,41.56982],[2.256022,41.56999],[2.25604,41.570122],[2.256088,41.570249],[2.25617,41.570362],[2.256271,41.57047],[2.256407,41.570574],[2.256591,41.570678],[2.261906,41.572705],[2.261959,41.572742],[2.262,41.572804],[2.262006,41.572874],[2.261971,41.572945],[2.261924,41.572983],[2.261805,41.573025],[2.260675,41.573204],[2.260544,41.573223],[2.260432,41.573204],[2.260089,41.573002],[2.259911,41.572912],[2.259722,41.57287],[2.259532,41.57287],[2.259331,41.572912],[2.259177,41.572978],[2.259047,41.573082],[2.25897,41.573209],[2.258923,41.573346],[2.258934,41.573487],[2.258994,41.573619],[2.259088,41.573718],[2.25923,41.573812],[2.260432,41.574567],[2.26055,41.574633],[2.260675,41.574661],[2.260811,41.574637],[2.260935,41.574581],[2.261805,41.574076],[2.261906,41.57402],[2.262024,41.57402],[2.262131,41.574058],[2.262296,41.574194],[2.262385,41.574237],[2.262521,41.574208],[2.263232,41.573869],[2.263433,41.573742],[2.263575,41.57361],[2.263658,41.573487],[2.263723,41.573341],[2.263729,41.573181],[2.263711,41.573006],[2.263616,41.572813],[2.261284,41.570051]]}},{type:"Feature",properties:{id:"mc-1929",Location:"Monte Carlo",Name:"Circuit de Monaco",opened:1929,firstgp:1929,length:3337,altitude:47},bbox:[7.421216,43.732365,7.430355,43.741099],geometry:{type:"LineString",coordinates:[[7.427135,43.73944],[7.427135,43.739511],[7.427159,43.739582],[7.427206,43.739652],[7.427259,43.739728],[7.42736,43.739836],[7.428662,43.741052],[7.428745,43.74109],[7.428857,43.741095],[7.42897,43.741062],[7.429053,43.741],[7.429082,43.740944],[7.4291,43.740864],[7.429106,43.740765],[7.429135,43.740694],[7.429195,43.740614],[7.42926,43.740553],[7.429372,43.740425],[7.429449,43.740289],[7.429496,43.740241],[7.429585,43.740204],[7.429668,43.740218],[7.429721,43.740251],[7.429739,43.740317],[7.429727,43.740359],[7.429692,43.740397],[7.429508,43.74051],[7.429343,43.74068],[7.429307,43.740741],[7.429295,43.740802],[7.429319,43.740845],[7.429384,43.740897],[7.429437,43.74093],[7.429704,43.741],[7.430023,43.74109],[7.430153,43.741099],[7.430236,43.74108],[7.430296,43.741052],[7.430331,43.74101],[7.430355,43.740958],[7.430331,43.740359],[7.430088,43.739737],[7.429952,43.739421],[7.429739,43.739115],[7.429508,43.738813],[7.429206,43.738516],[7.42878,43.7382],[7.428313,43.737922],[7.42791,43.737743],[7.427472,43.737588],[7.427052,43.737474],[7.426182,43.737314],[7.425714,43.737262],[7.425596,43.737234],[7.425531,43.737201],[7.425489,43.737149],[7.425442,43.737083],[7.425389,43.737055],[7.425217,43.737036],[7.42514,43.737036],[7.424998,43.737074],[7.424898,43.737079],[7.42369,43.736937],[7.42256,43.736824],[7.422406,43.73681],[7.422293,43.736791],[7.422193,43.736749],[7.422104,43.736673],[7.422021,43.736536],[7.421926,43.736376],[7.421843,43.736202],[7.421784,43.735994],[7.421766,43.735806],[7.421778,43.735547],[7.421832,43.735339],[7.421891,43.735254],[7.422157,43.73508],[7.422228,43.735],[7.422412,43.734312],[7.422406,43.734246],[7.422358,43.734194],[7.422299,43.734151],[7.422228,43.734085],[7.422199,43.734024],[7.422199,43.733944],[7.422423,43.733435],[7.422607,43.73318],[7.422909,43.732916],[7.423057,43.732841],[7.423193,43.732789],[7.423341,43.732742],[7.423447,43.732652],[7.423471,43.732563],[7.423465,43.732516],[7.423412,43.732473],[7.423234,43.732435],[7.423021,43.732398],[7.422784,43.732365],[7.422631,43.732369],[7.422512,43.732402],[7.422459,43.732445],[7.422429,43.732478],[7.422418,43.732534],[7.4224,43.7326],[7.422364,43.732681],[7.422074,43.732982],[7.421873,43.733298],[7.421725,43.733595],[7.421465,43.73434],[7.421376,43.734703],[7.421293,43.73507],[7.421216,43.735735],[7.421234,43.735966],[7.421305,43.736211],[7.421382,43.736452],[7.421417,43.73656],[7.421441,43.736683],[7.421417,43.736824],[7.421441,43.736895],[7.4215,43.736956],[7.421613,43.736994],[7.421737,43.737008],[7.422222,43.737036],[7.422654,43.737088],[7.422974,43.73714],[7.423767,43.737314],[7.424098,43.737375],[7.424406,43.737418],[7.424785,43.737456],[7.42504,43.737517],[7.425714,43.737767],[7.425957,43.737819],[7.426354,43.737885],[7.426726,43.737927],[7.42704,43.737969],[7.427259,43.73804],[7.427472,43.738163],[7.427614,43.738271],[7.427727,43.738384],[7.427786,43.738493],[7.427786,43.738625],[7.42775,43.738738],[7.427703,43.738841],[7.42762,43.738964],[7.427526,43.739082],[7.427419,43.739171],[7.427301,43.739256],[7.427182,43.739346],[7.427135,43.73944]]}},{type:"Feature",properties:{id:"ca-1978",Location:"Montreal",Name:"Circuit Gilles-Villeneuve",opened:1978,firstgp:1978,length:4361,altitude:13},bbox:[-73.52994,45.49706,-73.521949,45.514298],geometry:{type:"LineString",coordinates:[[-73.523246,45.501816],[-73.522944,45.500831],[-73.522719,45.500105],[-73.522594,45.499568],[-73.522577,45.499125],[-73.522772,45.497937],[-73.522736,45.497795],[-73.5226,45.497706],[-73.522097,45.49755],[-73.521997,45.497498],[-73.521949,45.497395],[-73.521967,45.497291],[-73.522038,45.497187],[-73.522174,45.497107],[-73.522346,45.49706],[-73.522571,45.49706],[-73.522819,45.497098],[-73.523411,45.497215],[-73.523814,45.49731],[-73.524198,45.497456],[-73.524565,45.497626],[-73.525412,45.498135],[-73.525915,45.498465],[-73.52601,45.498568],[-73.526033,45.498653],[-73.526027,45.498738],[-73.525939,45.498927],[-73.525909,45.499044],[-73.525927,45.499139],[-73.525986,45.499219],[-73.526951,45.500044],[-73.527122,45.500147],[-73.527448,45.500308],[-73.527643,45.500421],[-73.527856,45.500619],[-73.527975,45.500831],[-73.528058,45.501048],[-73.528087,45.501222],[-73.528081,45.502509],[-73.528081,45.502617],[-73.528146,45.502702],[-73.528265,45.502768],[-73.528472,45.502801],[-73.52875,45.502754],[-73.52891,45.50274],[-73.529105,45.502778],[-73.529271,45.502853],[-73.529389,45.502933],[-73.529496,45.503032],[-73.529561,45.503122],[-73.52965,45.503301],[-73.529727,45.503522],[-73.529815,45.503796],[-73.529827,45.504027],[-73.52994,45.505012],[-73.529928,45.505545],[-73.52991,45.505974],[-73.529857,45.506445],[-73.529786,45.506817],[-73.529715,45.50711],[-73.529218,45.508514],[-73.529135,45.508642],[-73.529016,45.508693],[-73.528892,45.508712],[-73.528709,45.508722],[-73.528567,45.508755],[-73.52843,45.508811],[-73.528282,45.50892],[-73.52817,45.509047],[-73.528069,45.509221],[-73.527578,45.510621],[-73.527383,45.51138],[-73.527318,45.511913],[-73.527288,45.51246],[-73.527294,45.512639],[-73.527324,45.512827],[-73.527685,45.514072],[-73.527697,45.514147],[-73.527685,45.514213],[-73.527602,45.514279],[-73.527442,45.514298],[-73.527341,45.514274],[-73.52727,45.514218],[-73.527247,45.514171],[-73.527205,45.513893],[-73.527146,45.513468],[-73.527122,45.513327],[-73.527045,45.513171],[-73.526785,45.512799],[-73.526554,45.512469],[-73.525388,45.510357],[-73.525252,45.510084],[-73.523524,45.504286],[-73.523453,45.504046],[-73.52347,45.503966],[-73.523547,45.503904],[-73.523684,45.503867],[-73.523772,45.503805],[-73.523808,45.503735],[-73.523802,45.503645],[-73.523488,45.502641],[-73.523246,45.501816]]}},{type:"Feature",properties:{id:"fr-1969",Location:"Le Castellet",Name:"Circuit Paul Ricard",opened:1969,firstgp:1971,length:5842,altitude:408},bbox:[5.778164,43.247028,5.803728,43.258652],geometry:{type:"LineString",coordinates:[[5.791571,43.25202],[5.794542,43.25037],[5.796057,43.249517],[5.796152,43.249493],[5.796241,43.249498],[5.796312,43.249526],[5.796353,43.249569],[5.796371,43.249625],[5.796395,43.250205],[5.796418,43.250327],[5.796454,43.250393],[5.796519,43.250464],[5.79662,43.250554],[5.796762,43.250643],[5.796927,43.250709],[5.797105,43.250747],[5.797288,43.250756],[5.797496,43.250747],[5.797685,43.2507],[5.797833,43.250634],[5.797957,43.250549],[5.798194,43.25036],[5.798425,43.250205],[5.798691,43.250059],[5.798975,43.249941],[5.799253,43.249851],[5.799549,43.24979],[5.799839,43.249743],[5.800171,43.249724],[5.80052,43.249724],[5.800798,43.249752],[5.801071,43.2498],[5.801343,43.249866],[5.801615,43.249946],[5.801846,43.25004],[5.801994,43.250106],[5.802124,43.250153],[5.802248,43.250181],[5.802373,43.250186],[5.802503,43.250167],[5.802627,43.250115],[5.802734,43.250045],[5.802805,43.249974],[5.802846,43.249903],[5.802882,43.249818],[5.802905,43.249701],[5.802905,43.249554],[5.80287,43.249446],[5.802817,43.249342],[5.80274,43.249234],[5.802669,43.249158],[5.8021,43.248616],[5.801911,43.248423],[5.801728,43.248211],[5.801544,43.247961],[5.801461,43.247815],[5.801426,43.247726],[5.801408,43.247641],[5.801426,43.247556],[5.801467,43.24748],[5.801526,43.247405],[5.801627,43.247315],[5.801757,43.247235],[5.801935,43.247146],[5.802118,43.24708],[5.802302,43.247042],[5.802467,43.247028],[5.802633,43.247033],[5.802805,43.247061],[5.802965,43.247103],[5.803124,43.247155],[5.803243,43.247212],[5.803349,43.247273],[5.803438,43.247348],[5.803533,43.247433],[5.80361,43.247542],[5.803669,43.247631],[5.803704,43.24773],[5.803722,43.247829],[5.803728,43.247919],[5.803716,43.249894],[5.803716,43.250031],[5.803704,43.250134],[5.803681,43.250229],[5.803622,43.25036],[5.803556,43.250497],[5.80348,43.250601],[5.803379,43.250709],[5.803249,43.250818],[5.803101,43.250931],[5.802941,43.251025],[5.802799,43.251096],[5.802663,43.251148],[5.802532,43.25119],[5.801467,43.251492],[5.8002,43.251841],[5.798981,43.252171],[5.797531,43.252562],[5.796241,43.25292],[5.796081,43.252972],[5.795933,43.253033],[5.79485,43.253575],[5.794654,43.253674],[5.79456,43.25375],[5.794252,43.254094],[5.794169,43.25415],[5.794051,43.254202],[5.793932,43.254216],[5.793844,43.254216],[5.793749,43.254183],[5.793672,43.254141],[5.793258,43.253858],[5.793169,43.253811],[5.793068,43.253797],[5.792962,43.253811],[5.791784,43.254131],[5.788061,43.255145],[5.786557,43.25556],[5.782065,43.256781],[5.781017,43.257068],[5.780911,43.257106],[5.780822,43.257158],[5.780775,43.257205],[5.780721,43.257261],[5.780662,43.257332],[5.780621,43.257403],[5.780384,43.257813],[5.780319,43.257893],[5.780254,43.257983],[5.780153,43.258077],[5.780059,43.258181],[5.779964,43.258256],[5.77978,43.258379],[5.779603,43.258482],[5.779443,43.258553],[5.779259,43.25861],[5.779094,43.258643],[5.778987,43.258652],[5.778869,43.258638],[5.77875,43.25861],[5.778656,43.258567],[5.778561,43.258506],[5.778508,43.258459],[5.778472,43.258397],[5.778194,43.257799],[5.778164,43.257719],[5.778164,43.257681],[5.778188,43.257629],[5.778241,43.257591],[5.778324,43.257573],[5.778484,43.257577],[5.77904,43.257643],[5.7792,43.257643],[5.77936,43.257629],[5.779496,43.257587],[5.779591,43.25753],[5.779674,43.257464],[5.779721,43.257403],[5.779768,43.257323],[5.779786,43.257257],[5.779792,43.2572],[5.77978,43.257125],[5.779727,43.256894],[5.779727,43.256837],[5.779745,43.256776],[5.77978,43.256719],[5.779851,43.256672],[5.779958,43.256606],[5.780597,43.256328],[5.781118,43.256116],[5.781591,43.25597],[5.782006,43.255843],[5.782219,43.255762],[5.78245,43.255673],[5.782698,43.25555],[5.783024,43.25539],[5.783456,43.255136],[5.783799,43.254952],[5.784012,43.254796],[5.784302,43.254575],[5.784427,43.254509],[5.784598,43.254438],[5.785238,43.254179],[5.785433,43.254122],[5.785587,43.254113],[5.785729,43.254127],[5.785871,43.254164],[5.786001,43.254226],[5.78609,43.254292],[5.786185,43.254386],[5.786267,43.254461],[5.786374,43.254523],[5.78648,43.254551],[5.786599,43.254565],[5.786753,43.254565],[5.786913,43.254556],[5.787055,43.254523],[5.787143,43.25448],[5.787783,43.254122],[5.788629,43.253646],[5.789588,43.253132],[5.790511,43.252609],[5.791571,43.25202]]}},{type:"Feature",properties:{id:"at-1969",Location:"Spielberg",Name:"Red Bull Ring",opened:1969,firstgp:1970,length:4318,altitude:721},bbox:[14.754069,47.219284,14.770648,47.226388],geometry:{type:"LineString",coordinates:[[14.765119,47.220023],[14.763977,47.219817],[14.761148,47.219294],[14.760953,47.219284],[14.760823,47.219364],[14.760604,47.219652],[14.759911,47.220288],[14.759159,47.221014],[14.758568,47.221655],[14.758029,47.222287],[14.757147,47.223593],[14.756904,47.223941],[14.756531,47.224351],[14.755957,47.224828],[14.755004,47.225478],[14.754122,47.226077],[14.754069,47.226157],[14.754075,47.226242],[14.754176,47.226284],[14.754407,47.226312],[14.755129,47.226369],[14.755851,47.226388],[14.756597,47.226383],[14.757307,47.226336],[14.75813,47.226246],[14.760645,47.225916],[14.761793,47.225813],[14.764273,47.225742],[14.764475,47.225695],[14.764599,47.225601],[14.764646,47.225497],[14.764634,47.225388],[14.764569,47.225285],[14.764321,47.225044],[14.764125,47.224884],[14.763764,47.224667],[14.763368,47.224521],[14.762888,47.224413],[14.762367,47.224356],[14.761823,47.22438],[14.75971,47.224611],[14.759426,47.224587],[14.759195,47.224531],[14.758994,47.224436],[14.758816,47.224309],[14.758704,47.224158],[14.758644,47.223993],[14.758633,47.223842],[14.758668,47.223677],[14.758733,47.223555],[14.759757,47.222339],[14.759929,47.222211],[14.760201,47.222094],[14.760515,47.222046],[14.760817,47.222065],[14.761136,47.222155],[14.761332,47.222263],[14.761533,47.222433],[14.761722,47.222598],[14.761924,47.222739],[14.762166,47.222852],[14.76245,47.222966],[14.762847,47.223065],[14.763261,47.223126],[14.76654,47.223173],[14.769062,47.223215],[14.769328,47.223211],[14.769588,47.223149],[14.769802,47.223041],[14.769973,47.222895],[14.770103,47.222702],[14.770618,47.221523],[14.770648,47.221415],[14.770618,47.221335],[14.770559,47.221273],[14.770358,47.221165],[14.770092,47.221057],[14.769748,47.220939],[14.769358,47.220826],[14.768896,47.220722],[14.765119,47.220023]]}},{type:"Feature",properties:{id:"gb-1948",Location:"Silverstone",Name:"Silverstone Circuit",opened:1948,firstgp:1950,length:5891,altitude:196},bbox:[-1.024286,52.063513,-1.009264,52.078936],geometry:{type:"LineString",coordinates:[[-1.015349,52.07879],[-1.01262,52.078936],[-1.012135,52.078918],[-1.011762,52.078842],[-1.011519,52.078743],[-1.011229,52.078536],[-1.011046,52.0783],[-1.010898,52.078003],[-1.01069,52.077499],[-1.010477,52.077004],[-1.010353,52.076457],[-1.0103,52.076113],[-1.010229,52.075279],[-1.010199,52.074567],[-1.010152,52.074289],[-1.00998,52.074029],[-1.009655,52.073666],[-1.009518,52.073459],[-1.009524,52.073303],[-1.009584,52.07312],[-1.010045,52.07237],[-1.010075,52.072068],[-1.010004,52.071852],[-1.009838,52.071668],[-1.009382,52.071277],[-1.009276,52.071097],[-1.009264,52.070885],[-1.009341,52.070692],[-1.009619,52.07048],[-1.009974,52.070324],[-1.01046,52.07015],[-1.010838,52.070013],[-1.011105,52.069853],[-1.011412,52.069537],[-1.012016,52.06884],[-1.015337,52.065083],[-1.016426,52.064041],[-1.016734,52.063786],[-1.016982,52.06365],[-1.017272,52.06356],[-1.017574,52.063513],[-1.017852,52.063527],[-1.01816,52.06357],[-1.01842,52.06364],[-1.018651,52.063753],[-1.018847,52.063933],[-1.018906,52.064003],[-1.019202,52.064399],[-1.019533,52.064753],[-1.019888,52.065045],[-1.020131,52.065224],[-1.020403,52.065408],[-1.020883,52.06571],[-1.021954,52.066497],[-1.022061,52.066539],[-1.022209,52.066549],[-1.022356,52.066506],[-1.022806,52.066256],[-1.02296,52.066223],[-1.023114,52.066233],[-1.023244,52.066266],[-1.023428,52.066374],[-1.023623,52.066497],[-1.023866,52.066695],[-1.024043,52.066907],[-1.024168,52.067124],[-1.024274,52.067369],[-1.024286,52.067468],[-1.024256,52.067567],[-1.024168,52.067661],[-1.023955,52.067869],[-1.020687,52.070489],[-1.019953,52.071069],[-1.0198,52.071178],[-1.019533,52.071286],[-1.019214,52.071333],[-1.018953,52.071338],[-1.018592,52.071319],[-1.017586,52.071225],[-1.017254,52.071201],[-1.016911,52.071192],[-1.01652,52.071225],[-1.016165,52.071281],[-1.015846,52.07139],[-1.013762,52.072408],[-1.013626,52.072464],[-1.01346,52.072516],[-1.013289,52.072526],[-1.013159,52.072497],[-1.01304,52.072431],[-1.012969,52.072356],[-1.012614,52.071592],[-1.012507,52.071484],[-1.01236,52.071418],[-1.012188,52.071413],[-1.011998,52.071465],[-1.01188,52.071559],[-1.011803,52.071658],[-1.011655,52.071908],[-1.011537,52.07212],[-1.011448,52.072328],[-1.011401,52.07253],[-1.011371,52.072743],[-1.011395,52.072964],[-1.011466,52.073063],[-1.011649,52.07319],[-1.018403,52.07698],[-1.018586,52.077051],[-1.018841,52.077131],[-1.019154,52.077159],[-1.01948,52.077136],[-1.019811,52.077037],[-1.01993,52.076947],[-1.020013,52.076815],[-1.020149,52.076127],[-1.020226,52.075986],[-1.020391,52.075872],[-1.02064,52.075797],[-1.020912,52.075773],[-1.021214,52.075821],[-1.021427,52.07591],[-1.021557,52.076014],[-1.021658,52.076136],[-1.021676,52.076268],[-1.021634,52.07641],[-1.021469,52.076641],[-1.020599,52.077701],[-1.02032,52.077904],[-1.020048,52.078074],[-1.019657,52.078281],[-1.019338,52.078418],[-1.018935,52.078522],[-1.018586,52.078592],[-1.017846,52.078649],[-1.015349,52.07879]]}},{type:"Feature",properties:{id:"de-1932",Location:"Hockenheim",Name:"Hockenheimring",opened:1932,firstgp:1970,length:4574,altitude:148},bbox:[8.564229,49.325608,8.584294,49.333824],geometry:{type:"LineString",coordinates:[[8.565865,49.327768],[8.565045,49.328856],[8.564246,49.329827],[8.564229,49.329902],[8.564264,49.329978],[8.564625,49.330515],[8.564797,49.330756],[8.56498,49.330977],[8.565176,49.33117],[8.565371,49.331335],[8.565732,49.331609],[8.566513,49.332132],[8.568922,49.333777],[8.569023,49.33381],[8.569159,49.333824],[8.569272,49.333791],[8.56939,49.33372],[8.56952,49.333584],[8.569615,49.333414],[8.569633,49.333268],[8.569627,49.333065],[8.56965,49.332957],[8.569686,49.332863],[8.569787,49.332731],[8.569899,49.332636],[8.570094,49.332542],[8.570662,49.332316],[8.571266,49.332094],[8.5719,49.331887],[8.572497,49.331703],[8.572947,49.33158],[8.573509,49.331453],[8.574066,49.331354],[8.574551,49.331279],[8.575202,49.331203],[8.575652,49.331166],[8.576173,49.331137],[8.576611,49.331133],[8.577179,49.331151],[8.577736,49.331189],[8.578298,49.33126],[8.578931,49.331368],[8.580109,49.331628],[8.58398,49.332584],[8.584104,49.332599],[8.584211,49.33258],[8.584276,49.332523],[8.584294,49.332462],[8.584264,49.332405],[8.584193,49.332358],[8.582707,49.331722],[8.579606,49.330388],[8.579387,49.330331],[8.579144,49.330317],[8.575729,49.330595],[8.575581,49.330595],[8.57548,49.330539],[8.575421,49.330416],[8.575404,49.330218],[8.575433,49.329968],[8.575528,49.329766],[8.575688,49.329577],[8.575889,49.329403],[8.575966,49.329304],[8.575995,49.3292],[8.575995,49.329106],[8.575954,49.329007],[8.575853,49.32887],[8.575729,49.328757],[8.575575,49.328658],[8.575273,49.328502],[8.573628,49.327786],[8.571675,49.326956],[8.571497,49.326895],[8.571302,49.326853],[8.571124,49.326843],[8.570923,49.326857],[8.570751,49.326881],[8.57058,49.326928],[8.570414,49.326999],[8.570236,49.327102],[8.570017,49.327277],[8.568265,49.328625],[8.568135,49.328696],[8.567987,49.328743],[8.567827,49.328752],[8.567668,49.328743],[8.567531,49.3287],[8.567425,49.32863],[8.567336,49.328545],[8.567289,49.328446],[8.567283,49.328342],[8.567312,49.328224],[8.567597,49.327649],[8.567668,49.327555],[8.567774,49.327456],[8.567928,49.327371],[8.568094,49.327319],[8.568449,49.32723],[8.56862,49.327168],[8.568751,49.327088],[8.568893,49.326975],[8.569337,49.326565],[8.569414,49.326452],[8.569443,49.326372],[8.569431,49.326287],[8.569396,49.326197],[8.569289,49.326108],[8.569112,49.326014],[8.568455,49.325707],[8.56823,49.325627],[8.568076,49.325608],[8.567904,49.325608],[8.567703,49.325636],[8.56752,49.325712],[8.567354,49.32582],[8.567206,49.325957],[8.567076,49.326108],[8.565865,49.327768]]}},{type:"Feature",properties:{id:"hu-1986",Location:"Budapest",Name:"Hungaroring",opened:1986,firstgp:1986,length:4381,altitude:239},bbox:[19.242326,47.577571,19.256609,47.588474],geometry:{type:"LineString",coordinates:[[19.245888,47.58026],[19.243226,47.581696],[19.242439,47.582111],[19.242368,47.582191],[19.242326,47.582271],[19.242338,47.582361],[19.242391,47.582431],[19.242468,47.582478],[19.242569,47.582511],[19.242717,47.582526],[19.242936,47.582526],[19.243546,47.582516],[19.243954,47.582469],[19.244327,47.582394],[19.244718,47.58229],[19.245014,47.582177],[19.245238,47.582073],[19.247411,47.580913],[19.24757,47.580857],[19.247724,47.580833],[19.247878,47.580833],[19.248003,47.580862],[19.248139,47.580895],[19.248245,47.580951],[19.248334,47.581017],[19.248393,47.581078],[19.248446,47.581163],[19.248464,47.581281],[19.248458,47.581347],[19.248411,47.581437],[19.24837,47.581526],[19.247748,47.582238],[19.247683,47.58237],[19.247671,47.582474],[19.247707,47.582563],[19.247754,47.582676],[19.247813,47.58278],[19.2485,47.583704],[19.249719,47.585368],[19.249938,47.585632],[19.250193,47.585863],[19.250512,47.586113],[19.250577,47.586183],[19.250625,47.586254],[19.250636,47.586334],[19.250601,47.586424],[19.250045,47.587838],[19.250033,47.587946],[19.25005,47.58805],[19.250092,47.588154],[19.250157,47.588253],[19.250275,47.588333],[19.250417,47.588404],[19.250565,47.588455],[19.250713,47.588474],[19.250897,47.58847],[19.251074,47.588441],[19.251288,47.58838],[19.25153,47.588276],[19.251702,47.588196],[19.251903,47.588097],[19.252116,47.587984],[19.252383,47.587796],[19.253519,47.586966],[19.253572,47.586886],[19.25359,47.586824],[19.253584,47.586758],[19.253525,47.586702],[19.25343,47.586641],[19.253353,47.586589],[19.253324,47.586542],[19.25333,47.586457],[19.253359,47.586363],[19.253773,47.585311],[19.253862,47.58517],[19.253927,47.585113],[19.253992,47.585062],[19.254081,47.585014],[19.254188,47.584991],[19.254389,47.584963],[19.255247,47.584878],[19.255425,47.584831],[19.255537,47.584779],[19.255632,47.584727],[19.255715,47.584637],[19.255744,47.584557],[19.25578,47.584463],[19.25578,47.584359],[19.25575,47.584246],[19.255537,47.583233],[19.255531,47.583053],[19.255549,47.58294],[19.255596,47.582823],[19.255662,47.582709],[19.256502,47.581804],[19.256585,47.581668],[19.256603,47.581573],[19.256609,47.581484],[19.256591,47.58139],[19.256561,47.581295],[19.256502,47.58121],[19.256407,47.581126],[19.254963,47.580032],[19.253679,47.579028],[19.253241,47.578698],[19.253134,47.578656],[19.253034,47.578646],[19.252939,47.578656],[19.252856,47.578689],[19.252773,47.57874],[19.251897,47.57941],[19.251755,47.579504],[19.251086,47.579872],[19.250968,47.579914],[19.25085,47.579947],[19.250707,47.579961],[19.250583,47.579952],[19.250417,47.5799],[19.250317,47.579825],[19.250246,47.579744],[19.250204,47.579674],[19.250193,47.579579],[19.25021,47.579485],[19.250269,47.579396],[19.250346,47.579325],[19.251666,47.578608],[19.251909,47.578458],[19.25198,47.578377],[19.252033,47.578264],[19.252057,47.578132],[19.252039,47.57801],[19.25198,47.577906],[19.251909,47.577807],[19.251797,47.577722],[19.251613,47.577642],[19.251424,47.57759],[19.251217,47.577571],[19.250998,47.57759],[19.250802,47.577642],[19.250619,47.577727],[19.245888,47.58026]]}},{type:"Feature",properties:{id:"be-1925",Location:"Spa Francorchamps",Name:"Circuit de Spa-Francorchamps",opened:1925,firstgp:1950,length:7004,altitude:413},bbox:[5.959602,50.427678,5.97756,50.446217],geometry:{type:"LineString",coordinates:[[5.96502,50.444251],[5.963419,50.446033],[5.963402,50.446113],[5.963473,50.446184],[5.963621,50.446217],[5.963786,50.446188],[5.964313,50.446019],[5.965592,50.445628],[5.966207,50.445387],[5.966847,50.445085],[5.967421,50.444779],[5.967876,50.444463],[5.970321,50.442606],[5.970493,50.442502],[5.970788,50.442385],[5.971315,50.442168],[5.971546,50.442022],[5.971741,50.441824],[5.971866,50.441644],[5.971949,50.441442],[5.97202,50.441069],[5.972061,50.440937],[5.972132,50.440815],[5.972268,50.440655],[5.973476,50.439424],[5.974245,50.438642],[5.974458,50.43835],[5.974594,50.438133],[5.974754,50.437784],[5.975719,50.435639],[5.977199,50.432382],[5.977542,50.431599],[5.97756,50.431472],[5.977524,50.431331],[5.977406,50.431218],[5.977234,50.431123],[5.977015,50.431048],[5.976885,50.430968],[5.976796,50.430874],[5.976725,50.430732],[5.976737,50.430591],[5.977033,50.429747],[5.977027,50.429601],[5.97698,50.429469],[5.97682,50.429323],[5.97663,50.429224],[5.973257,50.427739],[5.973044,50.427682],[5.972831,50.427678],[5.972606,50.42772],[5.972422,50.427805],[5.972292,50.427927],[5.972239,50.42805],[5.972227,50.428182],[5.972292,50.428305],[5.97241,50.428432],[5.972582,50.428521],[5.974056,50.429101],[5.974216,50.429205],[5.974304,50.429309],[5.97434,50.429431],[5.974322,50.429582],[5.973712,50.430723],[5.973523,50.431189],[5.973091,50.432627],[5.972878,50.433452],[5.972831,50.433593],[5.972724,50.433744],[5.972582,50.433867],[5.972369,50.433999],[5.972132,50.434098],[5.971872,50.434164],[5.971599,50.434192],[5.970717,50.43423],[5.97038,50.434206],[5.970072,50.43415],[5.969759,50.434065],[5.969504,50.433956],[5.969208,50.433782],[5.969019,50.433608],[5.968812,50.433358],[5.967977,50.432028],[5.967231,50.430845],[5.967071,50.430661],[5.966882,50.430534],[5.966622,50.43044],[5.966361,50.430393],[5.966119,50.430388],[5.965876,50.430421],[5.965669,50.430482],[5.965325,50.430624],[5.9651,50.430685],[5.964828,50.430713],[5.964556,50.430694],[5.964307,50.430643],[5.964094,50.430548],[5.963958,50.43044],[5.963792,50.430294],[5.962425,50.428927],[5.962289,50.428847],[5.962123,50.42879],[5.961922,50.428762],[5.961697,50.428771],[5.961502,50.428828],[5.960578,50.429257],[5.960034,50.429511],[5.959898,50.429624],[5.959756,50.429761],[5.959673,50.429893],[5.959614,50.430049],[5.959602,50.430209],[5.959643,50.430402],[5.959738,50.430567],[5.959862,50.430779],[5.960046,50.4311],[5.960365,50.431463],[5.960715,50.431779],[5.961247,50.43216],[5.962135,50.432712],[5.962656,50.432971],[5.9631,50.433136],[5.965385,50.433895],[5.965716,50.434027],[5.96603,50.434183],[5.96632,50.434357],[5.966568,50.434546],[5.966799,50.434744],[5.967107,50.435106],[5.967356,50.435455],[5.967924,50.436261],[5.968024,50.436436],[5.968084,50.436624],[5.968095,50.43686],[5.968036,50.437072],[5.967699,50.437624],[5.967332,50.438232],[5.966888,50.438991],[5.966775,50.439273],[5.966669,50.439608],[5.966604,50.439919],[5.966562,50.440183],[5.966432,50.441404],[5.966456,50.441484],[5.966533,50.441541],[5.966651,50.44156],[5.966852,50.441541],[5.96706,50.441541],[5.967202,50.44156],[5.967296,50.441626],[5.96732,50.441701],[5.967261,50.4418],[5.966533,50.442559],[5.96502,50.444251]]}},{type:"Feature",properties:{id:"it-1922",Location:"Monza",Name:"Autodromo Nazionale Monza",opened:1922,firstgp:1950,length:5793,altitude:142},bbox:[9.280697,45.611858,9.296856,45.631364],geometry:{type:"LineString",coordinates:[[9.281223,45.618975],[9.281692,45.622832],[9.281905,45.624449],[9.281928,45.624515],[9.281994,45.624553],[9.282076,45.624562],[9.282177,45.624553],[9.282272,45.624548],[9.28236,45.624553],[9.28242,45.624586],[9.282467,45.624633],[9.282479,45.624675],[9.282479,45.624722],[9.282147,45.625604],[9.2821,45.625844],[9.282082,45.626061],[9.282106,45.626297],[9.28223,45.627447],[9.282278,45.627635],[9.282337,45.62781],[9.282426,45.627998],[9.282544,45.628201],[9.28268,45.628399],[9.282881,45.628621],[9.283088,45.628804],[9.283367,45.629012],[9.283669,45.629196],[9.284006,45.629365],[9.284367,45.629511],[9.284775,45.629653],[9.285184,45.629752],[9.285634,45.629841],[9.286143,45.629903],[9.286664,45.629936],[9.288694,45.630058],[9.29118,45.630162],[9.291328,45.630171],[9.291405,45.6302],[9.29147,45.630247],[9.291552,45.63045],[9.291588,45.630506],[9.291647,45.630544],[9.291748,45.630567],[9.292085,45.63061],[9.292452,45.630666],[9.292973,45.630784],[9.295299,45.631331],[9.2955,45.631364],[9.29569,45.631364],[9.295873,45.63134],[9.296003,45.631303],[9.296128,45.631251],[9.296246,45.631194],[9.296394,45.631081],[9.296477,45.630992],[9.296536,45.630883],[9.296566,45.630761],[9.296666,45.629988],[9.296856,45.628668],[9.29685,45.62855],[9.29682,45.628474],[9.296773,45.628408],[9.296696,45.628361],[9.296554,45.628295],[9.295033,45.62772],[9.293796,45.627235],[9.293026,45.626938],[9.292653,45.626787],[9.292233,45.62658],[9.291931,45.626419],[9.291671,45.626259],[9.290321,45.625448],[9.289363,45.62484],[9.287338,45.623596],[9.286119,45.622846],[9.285953,45.622728],[9.285888,45.622653],[9.285876,45.622578],[9.285876,45.622488],[9.285918,45.62229],[9.28593,45.622182],[9.28593,45.622026],[9.285912,45.621941],[9.285864,45.621833],[9.285793,45.621706],[9.285675,45.621578],[9.285515,45.621446],[9.285332,45.621338],[9.285184,45.621258],[9.285107,45.621196],[9.285048,45.621112],[9.284994,45.620956],[9.28487,45.620244],[9.28474,45.619485],[9.283734,45.612679],[9.283692,45.612434],[9.283651,45.61232],[9.283568,45.612203],[9.283455,45.612108],[9.283325,45.612023],[9.283142,45.611939],[9.282941,45.611887],[9.28271,45.611858],[9.282514,45.611868],[9.282331,45.611896],[9.282118,45.611953],[9.281911,45.612019],[9.281757,45.612094],[9.281573,45.612193],[9.281366,45.612349],[9.281224,45.61249],[9.2811,45.612641],[9.280993,45.61282],[9.280893,45.613018],[9.280816,45.613221],[9.28078,45.613395],[9.280739,45.613659],[9.280733,45.613923],[9.280727,45.614173],[9.280709,45.614668],[9.280697,45.615102],[9.280709,45.615573],[9.280786,45.61619],[9.281076,45.618142],[9.281223,45.618975]]}},{type:"Feature",properties:{id:"sg-2008",Location:"Singapore",Name:"Marina Bay Street Circuit",opened:2008,firstgp:2008,length:5063,altitude:18},bbox:[103.851545,1.286293,103.864454,1.294834],geometry:{type:"LineString",coordinates:[[103.863969,1.293246],[103.864224,1.291318],[103.864454,1.289673],[103.864443,1.28947],[103.864395,1.2893],[103.864087,1.288777],[103.863981,1.288673],[103.863797,1.288631],[103.863129,1.288664],[103.861732,1.288725],[103.861483,1.288772],[103.86127,1.28889],[103.861199,1.289018],[103.861187,1.289296],[103.86114,1.289423],[103.860992,1.289503],[103.860832,1.289527],[103.860175,1.289574],[103.860009,1.289555],[103.859938,1.289479],[103.859814,1.288928],[103.859743,1.288796],[103.859583,1.288735],[103.858098,1.288829],[103.857873,1.288895],[103.857772,1.28897],[103.857707,1.289098],[103.8576,1.289508],[103.857565,1.289588],[103.85747,1.289668],[103.857222,1.289715],[103.856926,1.289781],[103.856665,1.289913],[103.855665,1.290729],[103.85528,1.291092],[103.855103,1.291219],[103.854984,1.291228],[103.854901,1.291153],[103.854848,1.291049],[103.85473,1.290672],[103.854629,1.290271],[103.854392,1.289008],[103.85396,1.286576],[103.853919,1.286397],[103.853877,1.286312],[103.853818,1.286293],[103.853765,1.286307],[103.853658,1.286439],[103.853481,1.286712],[103.85338,1.286859],[103.853256,1.287],[103.852984,1.287231],[103.852652,1.287523],[103.852552,1.287632],[103.852469,1.287745],[103.852433,1.287844],[103.852368,1.288268],[103.852362,1.288414],[103.852344,1.288457],[103.852315,1.288475],[103.852262,1.288485],[103.852202,1.288499],[103.852143,1.288518],[103.85177,1.288763],[103.851681,1.288838],[103.85161,1.288933],[103.851551,1.289051],[103.851545,1.289145],[103.851545,1.289272],[103.851563,1.289366],[103.851628,1.289498],[103.852445,1.290917],[103.853126,1.292199],[103.853244,1.292345],[103.853386,1.292444],[103.85354,1.292501],[103.85367,1.292515],[103.853783,1.292468],[103.853889,1.292397],[103.853984,1.292308],[103.854848,1.291483],[103.854966,1.291436],[103.855061,1.291488],[103.855428,1.292195],[103.855866,1.292986],[103.855984,1.293057],[103.856127,1.293024],[103.858299,1.291676],[103.858713,1.291483],[103.859104,1.291389],[103.862412,1.291209],[103.862625,1.291252],[103.862791,1.291346],[103.862921,1.291497],[103.862975,1.291671],[103.862963,1.291888],[103.862844,1.292572],[103.862477,1.293741],[103.86246,1.294009],[103.862489,1.294533],[103.862549,1.29474],[103.862667,1.294825],[103.862809,1.294834],[103.862904,1.294749],[103.863028,1.29457],[103.863188,1.294429],[103.863383,1.29433],[103.863561,1.294306],[103.863715,1.294325],[103.863851,1.294245],[103.863892,1.294104],[103.863969,1.293246]]}},{type:"Feature",properties:{id:"ru-2014",Location:"Sochi",Name:"Sochi Autodrom",opened:2014,firstgp:2014,length:5848,altitude:23},bbox:[39.947309,43.402181,39.97015,43.41273],geometry:{type:"LineString",coordinates:[[39.968066,43.409699],[39.966723,43.408191],[39.966421,43.407965],[39.966007,43.407734],[39.965551,43.407555],[39.9649,43.407408],[39.963177,43.407074],[39.96062,43.406574],[39.957886,43.406046],[39.957708,43.40606],[39.957643,43.406098],[39.957602,43.406221],[39.957531,43.406395],[39.957418,43.406522],[39.956181,43.407399],[39.955737,43.407635],[39.955187,43.407795],[39.954524,43.407837],[39.953879,43.407743],[39.953334,43.407536],[39.952908,43.407248],[39.952648,43.406965],[39.95244,43.406621],[39.952363,43.406249],[39.952399,43.405834],[39.952547,43.405481],[39.953316,43.404321],[39.953334,43.404189],[39.953263,43.404085],[39.953086,43.403991],[39.948996,43.402223],[39.948871,43.402186],[39.948676,43.402181],[39.948534,43.402242],[39.948439,43.402332],[39.947427,43.403977],[39.947332,43.404255],[39.947309,43.404481],[39.947338,43.404731],[39.947599,43.405688],[39.947646,43.405768],[39.947747,43.405806],[39.947877,43.405834],[39.951209,43.406197],[39.951292,43.406221],[39.951369,43.406268],[39.951428,43.406329],[39.951635,43.406928],[39.951653,43.407017],[39.951665,43.40713],[39.951647,43.407229],[39.950612,43.409346],[39.950612,43.409431],[39.950653,43.409506],[39.95073,43.409581],[39.950842,43.409638],[39.951884,43.409944],[39.952363,43.410025],[39.952813,43.410086],[39.953429,43.410119],[39.953973,43.410114],[39.954595,43.410067],[39.955181,43.409987],[39.956211,43.409864],[39.956761,43.409761],[39.957324,43.409614],[39.957933,43.409435],[39.960028,43.408742],[39.960603,43.408596],[39.961123,43.408516],[39.961703,43.408478],[39.962301,43.408497],[39.962858,43.408573],[39.96371,43.408752],[39.96387,43.408724],[39.963935,43.408648],[39.964201,43.407988],[39.964326,43.407894],[39.964539,43.407837],[39.964769,43.407847],[39.965101,43.407903],[39.965474,43.40804],[39.965805,43.408257],[39.966078,43.408535],[39.966681,43.409167],[39.966711,43.409242],[39.966699,43.409303],[39.966587,43.409369],[39.966036,43.409666],[39.965935,43.40977],[39.9659,43.409916],[39.965965,43.410048],[39.966841,43.411033],[39.967622,43.411962],[39.96825,43.412664],[39.968392,43.41273],[39.968569,43.412693],[39.969972,43.41224],[39.970102,43.412183],[39.97015,43.412099],[39.970114,43.412004],[39.968066,43.409699]]}},{type:"Feature",properties:{id:"jp-1962",Location:"Suzuka",Name:"Suzuka International Racing Course",opened:1962,firstgp:1987,length:5807,altitude:60},bbox:[136.521946,34.838956,136.543438,34.848374],geometry:{type:"LineString",coordinates:[[136.540283,34.843344],[136.541609,34.842034],[136.54316,34.840474],[136.543302,34.840309],[136.543396,34.840163],[136.543432,34.840026],[136.543438,34.839899],[136.543426,34.839771],[136.543248,34.839258],[136.543166,34.839149],[136.543059,34.83906],[136.542899,34.838994],[136.54271,34.838956],[136.542538,34.838961],[136.542349,34.839013],[136.542195,34.839097],[136.542071,34.839211],[136.5411,34.840455],[136.540946,34.840577],[136.540757,34.840662],[136.540567,34.8407],[136.540153,34.8407],[136.539922,34.840738],[136.539733,34.840832],[136.539585,34.840945],[136.539466,34.841101],[136.539253,34.841765],[136.539164,34.841935],[136.539022,34.842081],[136.538857,34.84218],[136.538649,34.84226],[136.538436,34.842293],[136.537921,34.842307],[136.537714,34.842331],[136.537537,34.842397],[136.537359,34.842501],[136.537205,34.842642],[136.537093,34.842812],[136.537045,34.842972],[136.537039,34.843109],[136.537075,34.843231],[136.537341,34.843839],[136.537371,34.843934],[136.537389,34.844089],[136.537353,34.844264],[136.537282,34.844419],[136.537176,34.844551],[136.537034,34.84466],[136.53685,34.844749],[136.536501,34.844895],[136.536175,34.844985],[136.53585,34.845046],[136.535506,34.84506],[136.535211,34.845051],[136.535021,34.845018],[136.534802,34.844961],[136.534548,34.844872],[136.534281,34.844749],[136.533997,34.844579],[136.53376,34.844377],[136.532725,34.84333],[136.53263,34.843264],[136.532512,34.843241],[136.531038,34.843132],[136.530943,34.843142],[136.530842,34.843198],[136.530801,34.843293],[136.530783,34.843373],[136.530227,34.845621],[136.530203,34.845748],[136.530191,34.84588],[136.530203,34.846017],[136.530239,34.846159],[136.530304,34.846305],[136.530381,34.846446],[136.530635,34.846922],[136.530665,34.846983],[136.530665,34.847045],[136.530647,34.847111],[136.530546,34.847196],[136.530416,34.847214],[136.530304,34.847186],[136.530209,34.847111],[136.529522,34.846196],[136.529369,34.846022],[136.529209,34.845866],[136.529055,34.845739],[136.52883,34.845593],[136.528593,34.845489],[136.528345,34.845428],[136.527913,34.845376],[136.527504,34.845362],[136.527196,34.845381],[136.526829,34.845447],[136.526522,34.845513],[136.525977,34.845678],[136.525693,34.845786],[136.525444,34.845909],[136.525214,34.84605],[136.524971,34.846229],[136.524781,34.846408],[136.524616,34.846611],[136.524456,34.846851],[136.52384,34.84803],[136.52374,34.848171],[136.523604,34.848275],[136.523426,34.848341],[136.523213,34.848374],[136.522958,34.848369],[136.522722,34.848341],[136.522491,34.848299],[136.522266,34.848223],[136.522124,34.848129],[136.522023,34.848006],[136.521958,34.847874],[136.521946,34.847738],[136.521976,34.847577],[136.522053,34.847422],[136.522189,34.847257],[136.522331,34.847125],[136.522609,34.846922],[136.523047,34.846639],[136.523385,34.846437],[136.523704,34.846258],[136.524237,34.845994],[136.524817,34.84573],[136.525314,34.845536],[136.525817,34.845367],[136.530138,34.844118],[136.530842,34.84391],[136.531044,34.843868],[136.531245,34.843863],[136.531458,34.843896],[136.531665,34.843943],[136.532038,34.844061],[136.532381,34.844202],[136.532695,34.844372],[136.532985,34.844561],[136.533524,34.844966],[136.534287,34.84555],[136.53453,34.845725],[136.534684,34.845814],[136.534802,34.845871],[136.534915,34.845904],[136.535009,34.845876],[136.535181,34.845758],[136.535305,34.845673],[136.535406,34.845649],[136.535501,34.845664],[136.535613,34.845725],[136.535797,34.845862],[136.536004,34.845984],[136.536235,34.846064],[136.536442,34.846093],[136.536744,34.846088],[136.537028,34.84605],[136.5373,34.84597],[136.537572,34.845843],[136.537868,34.845678],[136.538134,34.845475],[136.538407,34.845225],[136.540283,34.843344]]}},{type:"Feature",properties:{id:"us-2012",Location:"Austin",Name:"Circuit of the Americas",opened:2012,firstgp:2012,length:5513,altitude:130},bbox:[-97.643463,30.130031,-97.624458,30.139453],geometry:{type:"LineString",coordinates:[[-97.639651,30.13176],[-97.637935,30.130577],[-97.637461,30.13029],[-97.637094,30.130101],[-97.636958,30.130045],[-97.636905,30.130031],[-97.636846,30.13004],[-97.636793,30.130068],[-97.636757,30.130115],[-97.636739,30.130158],[-97.636745,30.13021],[-97.637118,30.131138],[-97.637284,30.131567],[-97.637313,30.131699],[-97.637319,30.131812],[-97.637313,30.131944],[-97.637284,30.132067],[-97.637231,30.132222],[-97.637148,30.132354],[-97.637059,30.132472],[-97.636935,30.132595],[-97.636799,30.13268],[-97.636615,30.132779],[-97.635615,30.133316],[-97.635206,30.133538],[-97.635118,30.133613],[-97.635041,30.133703],[-97.634976,30.133778],[-97.634922,30.133882],[-97.634881,30.133971],[-97.634774,30.13423],[-97.634703,30.134315],[-97.634614,30.134414],[-97.634496,30.13448],[-97.634401,30.134523],[-97.634165,30.134603],[-97.633981,30.134683],[-97.633875,30.134754],[-97.633809,30.134824],[-97.63375,30.134919],[-97.633727,30.135032],[-97.633691,30.135225],[-97.633673,30.135348],[-97.633638,30.135484],[-97.63359,30.135583],[-97.633531,30.135678],[-97.633454,30.135772],[-97.633371,30.135857],[-97.633247,30.135951],[-97.633105,30.136041],[-97.632951,30.136116],[-97.632786,30.136177],[-97.632643,30.136206],[-97.632525,30.13621],[-97.63243,30.136206],[-97.632276,30.136168],[-97.631294,30.135777],[-97.631199,30.135744],[-97.631099,30.135744],[-97.631022,30.135772],[-97.630826,30.135876],[-97.630596,30.136036],[-97.63043,30.136182],[-97.630264,30.136375],[-97.63014,30.136502],[-97.630027,30.136578],[-97.629903,30.136625],[-97.629808,30.136644],[-97.629672,30.136644],[-97.629518,30.136606],[-97.6294,30.13655],[-97.629305,30.136469],[-97.629252,30.136413],[-97.629199,30.136342],[-97.629151,30.136262],[-97.62908,30.136196],[-97.628997,30.136168],[-97.628915,30.136168],[-97.627145,30.136507],[-97.627032,30.13654],[-97.626961,30.136573],[-97.626908,30.136616],[-97.625872,30.137704],[-97.624961,30.138657],[-97.624612,30.139043],[-97.624469,30.139269],[-97.624458,30.139326],[-97.624475,30.139378],[-97.624517,30.139406],[-97.62457,30.139439],[-97.624629,30.139453],[-97.624694,30.139449],[-97.624783,30.13943],[-97.626677,30.138906],[-97.627997,30.138586],[-97.629453,30.13828],[-97.631193,30.137978],[-97.632282,30.137822],[-97.633289,30.137695],[-97.636254,30.137412],[-97.636585,30.13736],[-97.636627,30.137337],[-97.636645,30.13729],[-97.636639,30.137252],[-97.636597,30.1372],[-97.636402,30.137012],[-97.635727,30.13621],[-97.635431,30.135795],[-97.635413,30.135734],[-97.635431,30.135645],[-97.635473,30.135583],[-97.63555,30.135536],[-97.635615,30.135522],[-97.635739,30.135508],[-97.636289,30.135546],[-97.636343,30.135569],[-97.63639,30.135607],[-97.636437,30.135654],[-97.636479,30.13572],[-97.636591,30.135984],[-97.636639,30.136088],[-97.636716,30.136182],[-97.637077,30.136502],[-97.63713,30.13654],[-97.637195,30.136564],[-97.63726,30.136573],[-97.637615,30.136601],[-97.637686,30.136597],[-97.637728,30.136573],[-97.637769,30.136531],[-97.637787,30.136474],[-97.637763,30.136408],[-97.637077,30.135385],[-97.636799,30.134933],[-97.636775,30.13481],[-97.636781,30.134688],[-97.636804,30.134589],[-97.636834,30.13449],[-97.636911,30.134306],[-97.637018,30.134103],[-97.637089,30.134023],[-97.637207,30.133948],[-97.637343,30.133891],[-97.637905,30.13367],[-97.638018,30.133646],[-97.63813,30.133641],[-97.638337,30.133655],[-97.638533,30.133679],[-97.638722,30.133731],[-97.638929,30.133802],[-97.639113,30.133896],[-97.639237,30.133976],[-97.63932,30.134098],[-97.639965,30.134881],[-97.640468,30.135428],[-97.640533,30.135484],[-97.64061,30.135513],[-97.640711,30.135531],[-97.6408,30.135527],[-97.640924,30.135498],[-97.641072,30.135456],[-97.641196,30.135414],[-97.643274,30.134626],[-97.643392,30.134556],[-97.643439,30.13449],[-97.643463,30.134419],[-97.643439,30.134367],[-97.643392,30.13432],[-97.643333,30.134273],[-97.642244,30.133514],[-97.639651,30.13176]]}},{type:"Feature",properties:{id:"mx-1962",Location:"Mexico City",Name:"Autdromo Hermanos Rodrguez",opened:1962,firstgp:1963,length:4304,altitude:2232},bbox:[-99.09685,19.397044,-99.083095,19.40641],geometry:{type:"LineString",coordinates:[[-99.094338,19.406226],[-99.090925,19.405779],[-99.089818,19.405642],[-99.088652,19.405543],[-99.08809,19.405477],[-99.08664,19.405284],[-99.084113,19.40493],[-99.083592,19.404831],[-99.083503,19.404798],[-99.083456,19.40476],[-99.083432,19.404699],[-99.083426,19.404643],[-99.083521,19.404053],[-99.083509,19.404001],[-99.083479,19.403954],[-99.083213,19.403818],[-99.083136,19.40378],[-99.083095,19.403719],[-99.083095,19.403662],[-99.083148,19.403294],[-99.083231,19.402964],[-99.083361,19.402644],[-99.083509,19.402356],[-99.084669,19.400499],[-99.08606,19.398439],[-99.086149,19.398298],[-99.086161,19.398213],[-99.086143,19.398142],[-99.086101,19.39809],[-99.085687,19.39785],[-99.085646,19.397812],[-99.08564,19.397751],[-99.085669,19.397699],[-99.08574,19.397638],[-99.086516,19.397086],[-99.086593,19.397053],[-99.086658,19.397044],[-99.086717,19.397063],[-99.086859,19.397148],[-99.086883,19.397204],[-99.086883,19.397317],[-99.086528,19.399929],[-99.086533,19.400009],[-99.086569,19.400084],[-99.086622,19.400146],[-99.086705,19.400202],[-99.087119,19.400443],[-99.087267,19.40057],[-99.087356,19.400655],[-99.087445,19.400815],[-99.08754,19.401051],[-99.087634,19.401192],[-99.087741,19.401291],[-99.087859,19.401362],[-99.088019,19.401428],[-99.089298,19.401612],[-99.08944,19.401654],[-99.089528,19.401725],[-99.08957,19.401772],[-99.089605,19.401838],[-99.089771,19.402323],[-99.089824,19.402418],[-99.089907,19.402507],[-99.090114,19.402625],[-99.091061,19.403106],[-99.091334,19.403214],[-99.09173,19.403304],[-99.094903,19.403738],[-99.094968,19.403761],[-99.095003,19.403799],[-99.095033,19.40386],[-99.095039,19.40394],[-99.095092,19.404709],[-99.095157,19.405241],[-99.095181,19.405302],[-99.095228,19.405345],[-99.095293,19.405373],[-99.095376,19.405364],[-99.095465,19.405288],[-99.095578,19.405128],[-99.095643,19.405081],[-99.09572,19.405053],[-99.095808,19.405057],[-99.095909,19.4051],[-99.096027,19.405152],[-99.09614,19.405185],[-99.096678,19.405241],[-99.096767,19.405269],[-99.096809,19.405302],[-99.096844,19.405364],[-99.09685,19.405425],[-99.096815,19.405571],[-99.096738,19.405764],[-99.096637,19.405925],[-99.096489,19.406118],[-99.096317,19.40625],[-99.096098,19.406354],[-99.095897,19.406405],[-99.095702,19.40641],[-99.095418,19.406377],[-99.094338,19.406226]]}},{type:"Feature",properties:{id:"br-1940",Location:"Sao Paulo",Name:"Autdromo Jos Carlos Pace",opened:1940,firstgp:1972,length:4309,altitude:765},bbox:[-46.700609,-23.70644,-46.694051,-23.696984],geometry:{type:"LineString",coordinates:[[-46.69997,-23.703753],[-46.699384,-23.705804],[-46.699325,-23.705988],[-46.699242,-23.706153],[-46.699118,-23.706317],[-46.699005,-23.706402],[-46.698899,-23.70644],[-46.698798,-23.706431],[-46.698697,-23.706402],[-46.698626,-23.706355],[-46.698271,-23.706025],[-46.698188,-23.705997],[-46.698123,-23.705988],[-46.698035,-23.706006],[-46.697934,-23.706063],[-46.697632,-23.706237],[-46.697443,-23.706303],[-46.697265,-23.706332],[-46.697082,-23.706336],[-46.696892,-23.706327],[-46.696709,-23.706299],[-46.696543,-23.706256],[-46.696371,-23.70619],[-46.696164,-23.706063],[-46.696028,-23.70595],[-46.69591,-23.705813],[-46.695797,-23.705658],[-46.695714,-23.705526],[-46.695661,-23.705389],[-46.69485,-23.702594],[-46.694116,-23.700142],[-46.694069,-23.699982],[-46.694051,-23.699864],[-46.694063,-23.69977],[-46.694116,-23.699685],[-46.694181,-23.69961],[-46.694246,-23.699572],[-46.694323,-23.699534],[-46.694531,-23.699473],[-46.695128,-23.699379],[-46.695306,-23.699369],[-46.695495,-23.69936],[-46.695626,-23.699379],[-46.695768,-23.699412],[-46.695916,-23.699464],[-46.696046,-23.699534],[-46.696194,-23.699633],[-46.69633,-23.699761],[-46.69649,-23.699945],[-46.698165,-23.702066],[-46.698319,-23.702221],[-46.698461,-23.702339],[-46.698591,-23.7024],[-46.698733,-23.702429],[-46.698911,-23.702433],[-46.699088,-23.7024],[-46.699218,-23.702377],[-46.699354,-23.702339],[-46.69952,-23.702245],[-46.699639,-23.70216],[-46.699715,-23.702066],[-46.699763,-23.701962],[-46.69981,-23.701863],[-46.699852,-23.701726],[-46.699994,-23.700996],[-46.700006,-23.700746],[-46.699982,-23.700656],[-46.699946,-23.700586],[-46.699893,-23.700529],[-46.699834,-23.70051],[-46.699781,-23.700496],[-46.699704,-23.700496],[-46.699621,-23.700515],[-46.699538,-23.700548],[-46.69936,-23.700666],[-46.69923,-23.700746],[-46.699147,-23.700774],[-46.699041,-23.700788],[-46.698946,-23.700784],[-46.698869,-23.700765],[-46.698763,-23.700718],[-46.698692,-23.700656],[-46.698632,-23.700571],[-46.698597,-23.700477],[-46.698585,-23.700369],[-46.698597,-23.700284],[-46.698644,-23.700204],[-46.698709,-23.700138],[-46.698816,-23.700034],[-46.699278,-23.699615],[-46.699402,-23.699454],[-46.699467,-23.699308],[-46.699526,-23.699171],[-46.699585,-23.698964],[-46.69965,-23.698677],[-46.69965,-23.698587],[-46.699633,-23.698516],[-46.699591,-23.69846],[-46.699538,-23.698417],[-46.699479,-23.698398],[-46.699402,-23.698389],[-46.699343,-23.698403],[-46.699289,-23.698431],[-46.699224,-23.698479],[-46.698644,-23.699068],[-46.698508,-23.699181],[-46.69839,-23.699256],[-46.698265,-23.699322],[-46.698153,-23.69936],[-46.698005,-23.699384],[-46.697839,-23.699388],[-46.697662,-23.699365],[-46.697502,-23.699308],[-46.697372,-23.699237],[-46.697241,-23.699153],[-46.697111,-23.699021],[-46.697016,-23.698898],[-46.696194,-23.697691],[-46.696146,-23.697616],[-46.696129,-23.697545],[-46.69614,-23.697479],[-46.696176,-23.697423],[-46.696241,-23.697361],[-46.696318,-23.69731],[-46.696401,-23.697267],[-46.696502,-23.697225],[-46.697093,-23.697036],[-46.697212,-23.697008],[-46.69733,-23.696989],[-46.697454,-23.696984],[-46.697573,-23.696998],[-46.698088,-23.697088],[-46.698289,-23.69713],[-46.698484,-23.697196],[-46.698774,-23.697305],[-46.699147,-23.697474],[-46.699301,-23.697555],[-46.699461,-23.697658],[-46.699597,-23.697781],[-46.699721,-23.697913],[-46.699828,-23.698073],[-46.699905,-23.698219],[-46.699988,-23.698422],[-46.700071,-23.69871],[-46.700515,-23.700397],[-46.700556,-23.700595],[-46.700591,-23.700845],[-46.700609,-23.70109],[-46.700603,-23.701326],[-46.700574,-23.701538],[-46.70052,-23.701731],[-46.700118,-23.703192],[-46.69997,-23.703753]]}},{type:"Feature",properties:{id:"ae-2009",Location:"Abu Dhabi",Name:"Yas Marina Circuit",opened:2009,firstgp:2009,length:5554,altitude:9},bbox:[54.601568,24.463041,54.609783,24.479015],geometry:{type:"LineString",coordinates:[[54.605463,24.46997],[54.60783,24.470262],[54.607955,24.4703],[54.608049,24.470389],[54.608114,24.470512],[54.608126,24.470634],[54.608091,24.470762],[54.607712,24.472228],[54.607647,24.472388],[54.607558,24.472506],[54.60741,24.472619],[54.607286,24.472675],[54.606593,24.472892],[54.606392,24.472968],[54.606226,24.473071],[54.605989,24.473265],[54.605871,24.473392],[54.60577,24.473585],[54.605717,24.473797],[54.605717,24.474038],[54.605747,24.474198],[54.605806,24.474396],[54.606001,24.475098],[54.606043,24.475376],[54.606049,24.475697],[54.606025,24.476013],[54.605841,24.477535],[54.605824,24.477611],[54.605753,24.477639],[54.605427,24.477696],[54.605338,24.477752],[54.605303,24.477846],[54.605315,24.477912],[54.605327,24.477969],[54.605652,24.478756],[54.605682,24.478841],[54.605658,24.478916],[54.605622,24.478949],[54.605563,24.478997],[54.605451,24.479015],[54.60535,24.478982],[54.605285,24.478907],[54.603563,24.474212],[54.602764,24.472082],[54.602379,24.470837],[54.60203,24.469838],[54.601627,24.46873],[54.60158,24.468622],[54.601568,24.468541],[54.60158,24.468494],[54.601615,24.468452],[54.601746,24.468443],[54.602148,24.46849],[54.602207,24.468471],[54.602249,24.468433],[54.602438,24.467726],[54.602598,24.467311],[54.602693,24.467137],[54.602805,24.466948],[54.603036,24.466665],[54.60335,24.466321],[54.603651,24.46609],[54.605403,24.464822],[54.605806,24.46454],[54.606279,24.464247],[54.606806,24.46396],[54.607807,24.463535],[54.608973,24.463055],[54.609061,24.463041],[54.60915,24.463088],[54.609192,24.463187],[54.609274,24.463493],[54.609316,24.463568],[54.609369,24.463611],[54.609434,24.463634],[54.609665,24.463649],[54.609736,24.463696],[54.609778,24.463757],[54.609783,24.464257],[54.60976,24.464869],[54.609724,24.46494],[54.609624,24.464997],[54.609547,24.465001],[54.607055,24.464672],[54.606907,24.464672],[54.6068,24.46469],[54.606688,24.464737],[54.605717,24.465308],[54.605599,24.465435],[54.60554,24.465562],[54.605498,24.465685],[54.605327,24.466477],[54.605344,24.466557],[54.605427,24.466599],[54.605492,24.466623],[54.606303,24.466713],[54.606422,24.466746],[54.606469,24.466793],[54.606504,24.466878],[54.606469,24.467783],[54.60641,24.467839],[54.606333,24.467877],[54.605889,24.467919],[54.605717,24.467929],[54.603723,24.46766],[54.603598,24.467665],[54.603474,24.467726],[54.603385,24.46783],[54.602693,24.468999],[54.602639,24.46915],[54.602616,24.469272],[54.602604,24.469423],[54.602628,24.469513],[54.602693,24.469569],[54.602758,24.469602],[54.602876,24.469621],[54.605463,24.46997]]}},{type:"Feature",properties:{id:"it-1953",Location:"Imola",Name:"Autodromo Enzo e Dino Ferrari",opened:1953,firstgp:1980,length:4909,altitude:47},bbox:[11.702032,44.336508,11.725155,44.345054],geometry:{type:"LineString",coordinates:[[11.716701,44.344056],[11.716291,44.34406],[11.713733,44.344453],[11.71282,44.344522],[11.712288,44.344526],[11.709619,44.344355],[11.708308,44.344133],[11.708145,44.344056],[11.708067,44.343987],[11.708044,44.343923],[11.707948,44.343624],[11.707877,44.343529],[11.707714,44.343448],[11.706508,44.343009],[11.706328,44.342865],[11.704382,44.339415],[11.704359,44.339323],[11.704362,44.339211],[11.704568,44.338675],[11.704568,44.33859],[11.704501,44.338486],[11.704426,44.338415],[11.702122,44.337005],[11.702056,44.336924],[11.702032,44.336828],[11.702061,44.336725],[11.702146,44.336602],[11.702256,44.336535],[11.702381,44.336508],[11.702573,44.33651],[11.706288,44.336855],[11.706711,44.336876],[11.707336,44.336851],[11.707789,44.336804],[11.708406,44.33672],[11.709039,44.336637],[11.709367,44.336591],[11.709574,44.336621],[11.709731,44.336677],[11.709934,44.336818],[11.710138,44.337082],[11.710451,44.337641],[11.710524,44.337886],[11.710547,44.338164],[11.710486,44.338447],[11.710033,44.339981],[11.710039,44.340077],[11.710103,44.340187],[11.710367,44.340484],[11.710712,44.340868],[11.710813,44.340905],[11.710947,44.340915],[11.71104,44.340886],[11.711551,44.340739],[11.711708,44.340724],[11.717065,44.340749],[11.717134,44.340728],[11.717201,44.340614],[11.717251,44.340514],[11.717309,44.340489],[11.717422,44.340487],[11.719561,44.341117],[11.719831,44.341225],[11.720722,44.341665],[11.721232,44.341997],[11.721726,44.342352],[11.722932,44.343198],[11.723176,44.343322],[11.723441,44.343415],[11.725019,44.343916],[11.725138,44.343999],[11.725155,44.34413],[11.725123,44.344234],[11.724647,44.344954],[11.724536,44.345022],[11.724414,44.345049],[11.724243,44.345054],[11.724106,44.345029],[11.721985,44.344453],[11.721232,44.344245],[11.720822,44.344139],[11.720465,44.344081],[11.720224,44.34405],[11.716701,44.344056]]}},{type:"Feature",properties:{id:"de-1927",Location:"Nrburg",Name:"Nrburgring",opened:1927,firstgp:1984,length:5148,altitude:627},bbox:[6.934135,50.323947,6.949985,50.337712],geometry:{type:"LineString",coordinates:[[6.947632,50.335537],[6.943719,50.332988],[6.942907,50.332478],[6.942516,50.332285],[6.942135,50.332104],[6.941286,50.331732],[6.941108,50.331717],[6.940995,50.331756],[6.940938,50.331846],[6.940976,50.331975],[6.941093,50.33226],[6.941281,50.332509],[6.941654,50.332942],[6.941684,50.333045],[6.941675,50.333175],[6.941605,50.333317],[6.941453,50.333449],[6.941298,50.333536],[6.941111,50.333597],[6.940896,50.333625],[6.940748,50.333621],[6.939849,50.333536],[6.93944,50.333465],[6.939077,50.333391],[6.93881,50.333286],[6.938663,50.3332],[6.9386,50.333111],[6.938597,50.332978],[6.93864,50.332849],[6.93882,50.33274],[6.939061,50.332695],[6.939491,50.332709],[6.939728,50.332703],[6.939866,50.332661],[6.939997,50.332565],[6.940023,50.332453],[6.939988,50.332176],[6.939913,50.331765],[6.939732,50.331097],[6.939634,50.330758],[6.939545,50.330467],[6.939461,50.330271],[6.939108,50.32959],[6.938795,50.328934],[6.93869,50.328731],[6.938671,50.328629],[6.938659,50.328532],[6.938704,50.328405],[6.938776,50.328297],[6.938884,50.328187],[6.939042,50.32809],[6.939154,50.328044],[6.939627,50.3279],[6.940192,50.327734],[6.940356,50.327656],[6.940445,50.327566],[6.940487,50.327486],[6.940494,50.327389],[6.94048,50.327335],[6.940426,50.327215],[6.940248,50.327105],[6.939541,50.326866],[6.938607,50.326529],[6.938162,50.326343],[6.937717,50.326141],[6.937029,50.325742],[6.936664,50.325513],[6.936325,50.325246],[6.935997,50.324974],[6.935699,50.324692],[6.935158,50.324106],[6.934986,50.323994],[6.934792,50.323949],[6.934624,50.323947],[6.934439,50.323983],[6.934282,50.324058],[6.934174,50.324159],[6.934135,50.324278],[6.934139,50.324393],[6.934209,50.324508],[6.934495,50.324693],[6.936805,50.326167],[6.937077,50.326341],[6.93718,50.326443],[6.937276,50.326582],[6.937344,50.326745],[6.937358,50.326964],[6.937304,50.327159],[6.937145,50.327463],[6.937105,50.327619],[6.937105,50.327877],[6.937176,50.328086],[6.938193,50.330114],[6.938635,50.330998],[6.938785,50.331344],[6.938757,50.331459],[6.938647,50.331593],[6.938567,50.33165],[6.938462,50.331687],[6.936717,50.33218],[6.936517,50.33229],[6.936409,50.332399],[6.936348,50.332529],[6.936334,50.332709],[6.936377,50.332827],[6.936479,50.332958],[6.936718,50.333154],[6.938202,50.3343],[6.939672,50.335443],[6.939831,50.335524],[6.940034,50.335618],[6.940308,50.335701],[6.941366,50.335895],[6.946036,50.336678],[6.946094,50.336714],[6.946101,50.336772],[6.946059,50.336868],[6.94602,50.336984],[6.946052,50.337066],[6.946251,50.337141],[6.947042,50.337371],[6.947536,50.33746],[6.94923,50.337712],[6.949476,50.337712],[6.949701,50.337641],[6.949868,50.337524],[6.949952,50.337417],[6.949985,50.337315],[6.949983,50.337164],[6.949908,50.337021],[6.947668,50.33556],[6.947668,50.33556],[6.947632,50.335537]]}},{type:"Feature",properties:{id:"pt-2008",Location:"Portimo",Name:"Autdromo Internacional do Algarve",opened:2008,firstgp:2020,length:4653,altitude:44},bbox:[-8.632049,37.226074,-8.624377,37.236482],geometry:{type:"LineString",coordinates:[[-8.63081,37.232113],[-8.631815,37.234859],[-8.632041,37.235513],[-8.632049,37.235595],[-8.631996,37.235671],[-8.631891,37.235755],[-8.631758,37.235822],[-8.631123,37.236199],[-8.630678,37.236447],[-8.630527,37.236482],[-8.630409,37.236476],[-8.628977,37.236198],[-8.628899,37.236141],[-8.628867,37.236078],[-8.628858,37.236019],[-8.628882,37.235947],[-8.628967,37.235878],[-8.629783,37.235495],[-8.629907,37.235413],[-8.63001,37.235294],[-8.630043,37.235222],[-8.630083,37.235102],[-8.630067,37.23491],[-8.628503,37.230556],[-8.628422,37.230361],[-8.62832,37.230292],[-8.628209,37.23029],[-8.628101,37.230338],[-8.628037,37.230421],[-8.62802,37.230589],[-8.62785,37.231867],[-8.627827,37.232122],[-8.627869,37.232417],[-8.627945,37.232622],[-8.628048,37.232807],[-8.628841,37.234007],[-8.628882,37.23414],[-8.628863,37.234285],[-8.628806,37.234412],[-8.628668,37.234564],[-8.628059,37.23514],[-8.627969,37.235169],[-8.627867,37.235182],[-8.627713,37.235158],[-8.627589,37.23509],[-8.627528,37.235006],[-8.627048,37.232373],[-8.627018,37.232255],[-8.626941,37.232108],[-8.626867,37.231992],[-8.626697,37.231844],[-8.626455,37.23171],[-8.624838,37.231048],[-8.624702,37.230945],[-8.624545,37.230766],[-8.624399,37.230464],[-8.624377,37.23034],[-8.624403,37.23024],[-8.624457,37.230172],[-8.624558,37.230099],[-8.626289,37.229678],[-8.626401,37.22963],[-8.626561,37.229525],[-8.626732,37.229375],[-8.626857,37.22919],[-8.626917,37.228977],[-8.627125,37.227874],[-8.627108,37.227771],[-8.627039,37.227694],[-8.626926,37.227606],[-8.626759,37.227589],[-8.626623,37.227611],[-8.626562,37.227649],[-8.625486,37.228686],[-8.625331,37.228749],[-8.625166,37.228777],[-8.624956,37.228737],[-8.624784,37.228615],[-8.62466,37.228478],[-8.62461,37.22838],[-8.624559,37.228179],[-8.624564,37.228064],[-8.624596,37.227931],[-8.624674,37.227798],[-8.62489,37.22756],[-8.625977,37.226518],[-8.626212,37.22636],[-8.626421,37.226249],[-8.626588,37.226185],[-8.626848,37.226112],[-8.627093,37.226075],[-8.627402,37.226074],[-8.627644,37.226104],[-8.627888,37.226156],[-8.628129,37.226246],[-8.62837,37.226357],[-8.628568,37.226509],[-8.628733,37.226661],[-8.628909,37.226867],[-8.630778,37.232024],[-8.63081,37.232113]]}},{type:"Feature",properties:{id:"it-1914",Location:"Scarperia e San Piero",Name:"Autodromo Internazionale del Mugello",opened:1914,firstgp:2020,length:5245,altitude:292},bbox:[11.365772,43.991538,11.377272,44.003271],geometry:{type:"LineString",coordinates:[[11.371465,43.997589],[11.371893,43.998272],[11.372286,43.998858],[11.373086,43.999838],[11.37373,44.000646],[11.374286,44.001551],[11.375048,44.002955],[11.375166,44.003094],[11.375286,44.003174],[11.375419,44.003241],[11.375679,44.003271],[11.375899,44.003243],[11.376077,44.003165],[11.376209,44.00305],[11.376303,44.002916],[11.376312,44.002647],[11.376255,44.002362],[11.376053,44.001572],[11.376045,44.001471],[11.376076,44.001383],[11.376149,44.00128],[11.376263,44.001197],[11.376569,44.001065],[11.377074,44.000827],[11.377188,44.000714],[11.37725,44.000573],[11.377272,44.000453],[11.377264,44.000329],[11.3772,44.000189],[11.377079,44.000038],[11.374858,43.997607],[11.374812,43.997513],[11.374796,43.997426],[11.374802,43.99735],[11.374825,43.997272],[11.374893,43.997142],[11.375125,43.996789],[11.37517,43.996671],[11.37517,43.996569],[11.375146,43.996463],[11.375096,43.996365],[11.375035,43.996286],[11.374865,43.996119],[11.372755,43.994265],[11.372659,43.994204],[11.372537,43.994143],[11.372412,43.994105],[11.372308,43.994083],[11.372188,43.994079],[11.371064,43.994085],[11.370919,43.994067],[11.37067,43.994],[11.370483,43.993913],[11.370339,43.993822],[11.370219,43.993704],[11.370105,43.993561],[11.370026,43.99342],[11.369518,43.992379],[11.369443,43.992225],[11.36935,43.992074],[11.369206,43.991916],[11.369076,43.991804],[11.368887,43.991695],[11.36871,43.991615],[11.368467,43.991561],[11.368234,43.991538],[11.367996,43.991546],[11.367676,43.991597],[11.367526,43.991623],[11.36736,43.991669],[11.366373,43.992042],[11.366203,43.992119],[11.366027,43.992252],[11.365916,43.992375],[11.365817,43.992527],[11.365772,43.992713],[11.365772,43.992849],[11.365809,43.993109],[11.366415,43.995373],[11.366454,43.995458],[11.366544,43.995572],[11.366677,43.995645],[11.36681,43.995696],[11.367028,43.99572],[11.367771,43.995725],[11.367917,43.995745],[11.36805,43.995787],[11.36818,43.995858],[11.36834,43.995994],[11.368428,43.996163],[11.369484,43.998825],[11.369548,43.998952],[11.369675,43.999092],[11.369824,43.999197],[11.369976,43.999261],[11.370159,43.999295],[11.370341,43.999294],[11.37056,43.999256],[11.370771,43.999159],[11.370917,43.999035],[11.370987,43.998908],[11.371027,43.998732],[11.370996,43.998574],[11.370891,43.998379],[11.37059,43.998047],[11.369926,43.997458],[11.369872,43.997371],[11.369831,43.997272],[11.369816,43.997148],[11.369815,43.996577],[11.369782,43.996485],[11.369643,43.996316],[11.366746,43.99351],[11.366688,43.993408],[11.366609,43.993274],[11.366584,43.993166],[11.366588,43.992953],[11.366638,43.992831],[11.366767,43.992669],[11.366933,43.992556],[11.367197,43.992457],[11.367394,43.992439],[11.367687,43.992459],[11.367947,43.992529],[11.368181,43.992646],[11.368422,43.99282],[11.368667,43.993091],[11.369534,43.994472],[11.371465,43.997589]]}},{type:"Feature",properties:{id:"my-1999",Location:"Sepang",Name:"Sepang International Circuit",opened:1999,firstgp:1999,length:5543,altitude:39},bbox:[101.732582,2.756603,101.74303,2.765153],geometry:{type:"LineString",coordinates:[[101.735641,2.760529],[101.732942,2.760307],[101.732818,2.760317],[101.732706,2.760373],[101.732629,2.760454],[101.732587,2.760564],[101.732582,2.760688],[101.732627,2.760818],[101.732732,2.760916],[101.732874,2.760961],[101.73304,2.760928],[101.733348,2.760818],[101.733451,2.760835],[101.733538,2.760921],[101.733566,2.761026],[101.733538,2.761164],[101.733446,2.761304],[101.733236,2.761561],[101.733147,2.761718],[101.733089,2.761904],[101.733061,2.762091],[101.733061,2.762303],[101.733112,2.762825],[101.733194,2.76307],[101.733323,2.76332],[101.733453,2.763481],[101.733653,2.763662],[101.733863,2.7638],[101.734083,2.763881],[101.735319,2.764284],[101.736244,2.764648],[101.736863,2.764916],[101.737262,2.765097],[101.7374,2.765153],[101.737503,2.765149],[101.737592,2.765093],[101.737624,2.764981],[101.737796,2.764022],[101.737901,2.763528],[101.738049,2.762929],[101.738157,2.762698],[101.738278,2.762533],[101.738486,2.762367],[101.738692,2.762257],[101.738897,2.762206],[101.739098,2.762197],[101.739327,2.762232],[101.739561,2.762323],[101.739727,2.762442],[101.740051,2.762789],[101.74021,2.762885],[101.74046,2.762971],[101.740673,2.762978],[101.740883,2.76295],[101.741053,2.76288],[101.741205,2.762759],[101.74302,2.760691],[101.74303,2.76059],[101.742988,2.760475],[101.742679,2.759782],[101.742586,2.759717],[101.742476,2.759691],[101.740819,2.759595],[101.739263,2.759413],[101.73841,2.759273],[101.738329,2.759207],[101.738303,2.759098],[101.738375,2.758976],[101.738983,2.75864],[101.739116,2.758506],[101.739209,2.758308],[101.739256,2.758102],[101.739249,2.757808],[101.739209,2.757561],[101.739154,2.75732],[101.739009,2.757012],[101.738792,2.756697],[101.738673,2.756622],[101.738559,2.756603],[101.73843,2.756627],[101.738327,2.756694],[101.736426,2.758259],[101.736293,2.758308],[101.736122,2.758318],[101.735935,2.758271],[101.735242,2.757916],[101.735057,2.757858],[101.734837,2.757828],[101.734644,2.75783],[101.734284,2.757895],[101.734039,2.757996],[101.73388,2.758122],[101.733667,2.758402],[101.733592,2.758612],[101.733581,2.75874],[101.73367,2.758884],[101.733861,2.758963],[101.7414,2.760348],[101.741508,2.760443],[101.741587,2.760625],[101.741547,2.760777],[101.74141,2.760919],[101.741185,2.760954],[101.735641,2.760529]]}},{type:"Feature",properties:{id:"tr-2005",Location:"Istanbul",Name:"Intercity Istanbul Park",opened:2005,firstgp:2005,length:5338,altitude:150},bbox:[29.400023,40.951405,29.417419,40.962944],geometry:{type:"LineString",coordinates:[[29.406152,40.952131],[29.40884,40.952581],[29.409051,40.952654],[29.409149,40.952798],[29.409122,40.952916],[29.408948,40.95346],[29.408845,40.953746],[29.408845,40.953959],[29.408916,40.954264],[29.40916,40.954591],[29.409561,40.954882],[29.410371,40.955244],[29.410839,40.955391],[29.411422,40.955538],[29.412489,40.955691],[29.413171,40.955715],[29.413552,40.955718],[29.414094,40.955659],[29.41433,40.955684],[29.414586,40.955771],[29.41483,40.955955],[29.414954,40.956171],[29.415008,40.956382],[29.414892,40.95705],[29.414921,40.957185],[29.415045,40.957272],[29.415235,40.957272],[29.41581,40.957219],[29.416319,40.957219],[29.416592,40.957272],[29.416712,40.957378],[29.416739,40.957505],[29.416598,40.958093],[29.416507,40.958224],[29.416329,40.958327],[29.411953,40.960008],[29.411676,40.960167],[29.411577,40.960317],[29.411585,40.960464],[29.411639,40.960591],[29.411763,40.960691],[29.412131,40.96086],[29.412446,40.960916],[29.412714,40.960929],[29.41405,40.960744],[29.415155,40.960548],[29.415713,40.960426],[29.415986,40.960382],[29.41616,40.960416],[29.417032,40.960779],[29.41714,40.960891],[29.417419,40.961528],[29.417415,40.961687],[29.417336,40.961831],[29.417001,40.962261],[29.416704,40.96252],[29.416249,40.962853],[29.416038,40.962925],[29.415723,40.962944],[29.415293,40.962903],[29.409749,40.961658],[29.409426,40.961524],[29.409315,40.961414],[29.409331,40.961268],[29.409534,40.961021],[29.40967,40.960812],[29.40967,40.960577],[29.407904,40.956441],[29.407685,40.956229],[29.40734,40.955986],[29.400185,40.953056],[29.400052,40.95295],[29.400023,40.952806],[29.400056,40.952672],[29.400205,40.952531],[29.400362,40.952487],[29.400838,40.952516],[29.40097,40.952472],[29.401037,40.952397],[29.40102,40.952228],[29.400884,40.951605],[29.400904,40.951486],[29.401016,40.951405],[29.401177,40.951405],[29.406152,40.952131]]}},{type:"Feature",properties:{id:"nl-1948",Location:"Zandvoort",Name:"Circuit Zandvoort",opened:1948,firstgp:1952,length:4259,altitude:3},bbox:[4.538742,52.384363,4.553061,52.391811],geometry:{type:"LineString",coordinates:[[4.540491,52.388408],[4.542096,52.390776],[4.542706,52.391645],[4.542844,52.391741],[4.543031,52.391795],[4.543235,52.391811],[4.543424,52.391787],[4.543602,52.391713],[4.543726,52.39162],[4.543792,52.391504],[4.543797,52.391375],[4.543703,52.391196],[4.54322,52.390485],[4.543082,52.390244],[4.542999,52.390097],[4.542945,52.389901],[4.542933,52.38977],[4.542916,52.389305],[4.542884,52.389206],[4.542812,52.389101],[4.542686,52.389017],[4.542545,52.388945],[4.542333,52.388894],[4.541332,52.388679],[4.541163,52.38862],[4.541065,52.38856],[4.540985,52.388465],[4.540962,52.388371],[4.540979,52.38826],[4.541057,52.388166],[4.541189,52.388099],[4.541372,52.388054],[4.54166,52.388048],[4.543319,52.388362],[4.543889,52.388429],[4.544461,52.38844],[4.544886,52.388431],[4.545313,52.388396],[4.545704,52.388343],[4.546236,52.388274],[4.546727,52.388248],[4.54703,52.388261],[4.547345,52.388306],[4.547868,52.388435],[4.548539,52.388702],[4.548912,52.388814],[4.549267,52.388879],[4.549705,52.388922],[4.550112,52.388928],[4.551709,52.388868],[4.55204,52.388831],[4.552355,52.388752],[4.552606,52.388633],[4.552811,52.388493],[4.552958,52.388343],[4.553036,52.38817],[4.553061,52.387987],[4.553033,52.387808],[4.552947,52.387626],[4.552761,52.387428],[4.551997,52.386746],[4.551778,52.386498],[4.551194,52.38579],[4.550967,52.385721],[4.550557,52.385704],[4.55022,52.385714],[4.549823,52.385755],[4.549411,52.385841],[4.54897,52.38597],[4.548533,52.38616],[4.548263,52.386343],[4.548214,52.386455],[4.548257,52.386573],[4.548419,52.386687],[4.548741,52.386812],[4.548952,52.386859],[4.549582,52.386926],[4.550139,52.387016],[4.550808,52.387175],[4.551025,52.387291],[4.551136,52.387442],[4.551151,52.387607],[4.551056,52.387771],[4.550811,52.38792],[4.550591,52.387967],[4.549376,52.388042],[4.548249,52.388019],[4.547096,52.387935],[4.546101,52.387788],[4.54551,52.387674],[4.544815,52.387525],[4.544102,52.387336],[4.543469,52.387144],[4.543267,52.387091],[4.543123,52.387108],[4.542988,52.387222],[4.542844,52.387388],[4.542646,52.387463],[4.542392,52.387469],[4.542144,52.387398],[4.542012,52.387289],[4.541951,52.387172],[4.542012,52.386934],[4.542566,52.38496],[4.542578,52.384828],[4.542517,52.384693],[4.542419,52.384579],[4.542324,52.384506],[4.542089,52.384409],[4.541838,52.384374],[4.540774,52.384363],[4.540557,52.38437],[4.540241,52.3844],[4.539914,52.384465],[4.539645,52.38454],[4.539287,52.384712],[4.539054,52.384902],[4.538895,52.385065],[4.538779,52.385285],[4.538742,52.385478],[4.538775,52.385793],[4.538873,52.386017],[4.540408,52.38829],[4.540491,52.388408]]}},{type:"Feature",properties:{id:"fr-1960",Location:"Magny-Cours",Name:"Circuit de Nevers Magny-Cours",opened:1960,firstgp:1991,length:4412,altitude:230},bbox:[3.160075,46.859125,3.169239,46.868387],geometry:{type:"LineString",coordinates:[[3.16371,46.864076],[3.165739,46.865204],[3.165897,46.86539],[3.165972,46.865539],[3.165991,46.866053],[3.165983,46.866711],[3.165916,46.866828],[3.165724,46.867081],[3.165631,46.867377],[3.165646,46.867582],[3.165682,46.86768],[3.165802,46.867898],[3.165989,46.868066],[3.166202,46.868195],[3.166392,46.868283],[3.166687,46.868361],[3.167003,46.868387],[3.167277,46.868381],[3.167598,46.868312],[3.16783,46.86821],[3.167998,46.868097],[3.168192,46.867901],[3.168645,46.867246],[3.168865,46.866859],[3.168976,46.86656],[3.169031,46.86633],[3.169239,46.864033],[3.169239,46.863793],[3.169188,46.863342],[3.169097,46.862975],[3.167903,46.859974],[3.167834,46.859889],[3.167705,46.859873],[3.167615,46.859912],[3.167562,46.859997],[3.167373,46.860863],[3.167624,46.862048],[3.167666,46.862205],[3.167584,46.864608],[3.167605,46.864684],[3.167694,46.864763],[3.167953,46.86493],[3.168075,46.865051],[3.168172,46.865245],[3.168204,46.865428],[3.168191,46.865796],[3.168077,46.866289],[3.167879,46.866767],[3.167715,46.866952],[3.167502,46.867086],[3.167256,46.867147],[3.166963,46.867107],[3.16682,46.867007],[3.16674,46.866912],[3.166742,46.866777],[3.166795,46.86666],[3.167068,46.866376],[3.167139,46.866262],[3.167207,46.866063],[3.167221,46.865821],[3.16715,46.865592],[3.166847,46.864933],[3.166786,46.864741],[3.166744,46.864557],[3.166788,46.861659],[3.166725,46.861561],[3.166198,46.86116],[3.166146,46.861066],[3.166125,46.860788],[3.16613,46.860617],[3.166182,46.860276],[3.166252,46.860077],[3.166619,46.859239],[3.166576,46.859181],[3.166323,46.859125],[3.166068,46.859148],[3.165818,46.859217],[3.165459,46.859393],[3.16513,46.859592],[3.164774,46.859887],[3.163459,46.860921],[3.163145,46.861131],[3.162629,46.861395],[3.162142,46.861555],[3.160138,46.862008],[3.160081,46.862058],[3.160075,46.862139],[3.160296,46.862418],[3.160748,46.862775],[3.1609,46.862841],[3.161014,46.862791],[3.161115,46.862732],[3.161218,46.86272],[3.16153,46.862877],[3.16371,46.864076]]}},{type:"Feature",properties:{id:"pt-1972",Location:"Estoril",Name:"Autdromo do Estoril",opened:1972,firstgp:1984,length:4349,altitude:80},bbox:[-9.397381,38.745536,-9.390192,38.755309],geometry:{type:"LineString",coordinates:[[-9.393073,38.749017],[-9.395047,38.745624],[-9.395129,38.745561],[-9.39527,38.745536],[-9.395393,38.745558],[-9.395509,38.745629],[-9.395908,38.746138],[-9.396634,38.746638],[-9.397219,38.747004],[-9.397339,38.74712],[-9.397381,38.747227],[-9.397363,38.747378],[-9.397071,38.748146],[-9.396694,38.748987],[-9.396598,38.749083],[-9.396447,38.749135],[-9.39626,38.749119],[-9.396098,38.749045],[-9.395985,38.748918],[-9.39595,38.748762],[-9.395989,38.748478],[-9.396281,38.74753],[-9.396267,38.747409],[-9.396242,38.747307],[-9.396137,38.747192],[-9.395983,38.747128],[-9.395853,38.747107],[-9.395659,38.747126],[-9.395507,38.747205],[-9.395398,38.747324],[-9.395349,38.747442],[-9.394809,38.749505],[-9.39476,38.749596],[-9.394665,38.749692],[-9.39139,38.752927],[-9.391323,38.753051],[-9.391323,38.75315],[-9.391358,38.753257],[-9.391464,38.753378],[-9.39157,38.753444],[-9.391757,38.753502],[-9.391951,38.753529],[-9.392148,38.753529],[-9.39231,38.753502],[-9.392494,38.753439],[-9.392638,38.753356],[-9.395054,38.751007],[-9.395174,38.750952],[-9.395344,38.750922],[-9.395474,38.75093],[-9.395619,38.750963],[-9.395724,38.751023],[-9.395841,38.75112],[-9.395922,38.751254],[-9.395978,38.751403],[-9.396264,38.753281],[-9.39626,38.753399],[-9.396232,38.753515],[-9.396172,38.753638],[-9.39602,38.753762],[-9.395795,38.753878],[-9.395139,38.754073],[-9.394325,38.754249],[-9.393958,38.754241],[-9.393278,38.754081],[-9.393082,38.754077],[-9.39292,38.754135],[-9.392786,38.754289],[-9.392529,38.754847],[-9.392374,38.755012],[-9.39213,38.755166],[-9.391891,38.755265],[-9.391535,38.755309],[-9.391242,38.755273],[-9.390911,38.755174],[-9.390646,38.755023],[-9.390435,38.754833],[-9.390297,38.754652],[-9.390213,38.754399],[-9.390192,38.754195],[-9.39023,38.753953],[-9.39034,38.753722],[-9.393073,38.749017]]}},{type:"Feature",properties:{id:"br-1977",Location:"Jacarepagu",Name:"Autdromo Internacional Nelson Piquet",opened:1977,firstgp:1978,length:5031,altitude:3},bbox:[-43.399859,-22.980204,-43.3893,-22.974123],geometry:{type:"LineString",coordinates:[[-43.395225,-22.97485],[-43.392908,-22.974865],[-43.39259,-22.9749],[-43.392348,-22.975006],[-43.392132,-22.975221],[-43.392005,-22.975424],[-43.391941,-22.975658],[-43.391941,-22.97592],[-43.391996,-22.976174],[-43.39217,-22.976377],[-43.392344,-22.976545],[-43.392582,-22.976627],[-43.392709,-22.976639],[-43.393986,-22.976607],[-43.394207,-22.976683],[-43.394338,-22.976801],[-43.394436,-22.976933],[-43.394478,-22.977101],[-43.394482,-22.978515],[-43.394423,-22.978685],[-43.39433,-22.97881],[-43.394211,-22.978919],[-43.394003,-22.979021],[-43.393816,-22.97906],[-43.393596,-22.979072],[-43.393434,-22.97906],[-43.393171,-22.978927],[-43.391708,-22.977986],[-43.391112,-22.977425],[-43.39098,-22.9773],[-43.390959,-22.977198],[-43.390963,-22.975653],[-43.390887,-22.975493],[-43.390671,-22.975392],[-43.390391,-22.975364],[-43.39006,-22.97549],[-43.389843,-22.975561],[-43.389614,-22.975576],[-43.389432,-22.975443],[-43.3893,-22.975201],[-43.389309,-22.974955],[-43.389453,-22.974744],[-43.389657,-22.974592],[-43.389835,-22.974525],[-43.391515,-22.974201],[-43.396126,-22.974123],[-43.399036,-22.974201],[-43.399312,-22.974291],[-43.399541,-22.974432],[-43.399702,-22.974623],[-43.399796,-22.974842],[-43.399859,-22.975064],[-43.399855,-22.975252],[-43.399834,-22.975471],[-43.399796,-22.975666],[-43.399694,-22.975846],[-43.399554,-22.976029],[-43.399376,-22.976185],[-43.399168,-22.976314],[-43.398858,-22.976404],[-43.398459,-22.97649],[-43.39815,-22.976572],[-43.398048,-22.976668],[-43.397929,-22.97684],[-43.39791,-22.976991],[-43.397936,-22.977182],[-43.398199,-22.978499],[-43.398211,-22.978635],[-43.398207,-22.978807],[-43.398169,-22.978936],[-43.398097,-22.979084],[-43.398008,-22.979209],[-43.397897,-22.979291],[-43.396682,-22.98015],[-43.396538,-22.9802],[-43.396381,-22.980204],[-43.396194,-22.980161],[-43.396037,-22.980068],[-43.395884,-22.979892],[-43.395838,-22.97974],[-43.395787,-22.976738],[-43.39585,-22.976594],[-43.395961,-22.976496],[-43.39613,-22.97641],[-43.398809,-22.975821],[-43.398962,-22.9757],[-43.399055,-22.975536],[-43.399094,-22.975364],[-43.39903,-22.975173],[-43.398941,-22.975024],[-43.398784,-22.974907],[-43.398551,-22.974841],[-43.395225,-22.97485]]}},{type:"Feature",properties:{id:"sa-2021",Location:"Jeddah",Name:"Jeddah Street Circuit",opened:2021,firstgp:2021,length:6175,altitude:12},bbox:[39.100896,21.625405,39.10643,21.650217],geometry:{type:"LineString",coordinates:[[39.105135,21.631065],[39.103841,21.634908],[39.103768,21.634993],[39.103686,21.635029],[39.10355,21.634971],[39.10341,21.634921],[39.103299,21.634944],[39.103207,21.63502],[39.103163,21.63511],[39.103182,21.635317],[39.103386,21.635955],[39.103429,21.636162],[39.103439,21.636396],[39.1034,21.636607],[39.103042,21.638533],[39.103032,21.63873],[39.103018,21.638901],[39.102965,21.638991],[39.102732,21.639072],[39.102548,21.639158],[39.102345,21.639311],[39.10221,21.639504],[39.102127,21.63977],[39.102113,21.640058],[39.10219,21.640323],[39.102452,21.6407],[39.102544,21.640934],[39.102548,21.641176],[39.102476,21.641532],[39.102314,21.6419],[39.102173,21.642035],[39.101936,21.642156],[39.101762,21.642304],[39.101704,21.642538],[39.101733,21.64341],[39.101791,21.643585],[39.101936,21.643769],[39.102149,21.643886],[39.10243,21.644007],[39.102556,21.644115],[39.102638,21.64425],[39.102681,21.644511],[39.102696,21.644753],[39.102769,21.645126],[39.102904,21.645585],[39.102952,21.646014],[39.102957,21.646568],[39.102909,21.647134],[39.102662,21.649789],[39.102599,21.649965],[39.102435,21.650145],[39.102299,21.650217],[39.102086,21.650212],[39.101951,21.650158],[39.101835,21.650023],[39.101747,21.649825],[39.101718,21.649565],[39.101733,21.649344],[39.101781,21.649151],[39.101902,21.648899],[39.102183,21.648445],[39.102333,21.648104],[39.102425,21.647676],[39.102454,21.647456],[39.102464,21.647083],[39.10242,21.646799],[39.102304,21.646417],[39.102123,21.646001],[39.10204,21.645789],[39.102002,21.645497],[39.101992,21.645056],[39.101934,21.644926],[39.101842,21.644804],[39.101672,21.644728],[39.101452,21.644662],[39.101244,21.644527],[39.101075,21.644333],[39.100959,21.644054],[39.100901,21.643721],[39.100896,21.643339],[39.100937,21.642936],[39.101038,21.642626],[39.101237,21.642185],[39.101464,21.641803],[39.101648,21.641409],[39.10174,21.641054],[39.101789,21.640708],[39.101784,21.640325],[39.101769,21.639747],[39.101803,21.639446],[39.101934,21.639072],[39.102127,21.638708],[39.102427,21.638308],[39.102597,21.638056],[39.102756,21.637718],[39.102865,21.637419],[39.102957,21.637046],[39.102982,21.636672],[39.102972,21.636317],[39.102938,21.635818],[39.102856,21.635458],[39.102773,21.635161],[39.102776,21.63497],[39.102839,21.634817],[39.102921,21.63474],[39.103032,21.634641],[39.103226,21.63452],[39.103352,21.634398],[39.103449,21.634272],[39.10355,21.633998],[39.103661,21.633463],[39.103676,21.633218],[39.103628,21.633006],[39.103516,21.63279],[39.102713,21.631486],[39.102585,21.631123],[39.102493,21.630849],[39.102444,21.630633],[39.102454,21.630408],[39.102536,21.629895],[39.102677,21.629385],[39.102861,21.628827],[39.103103,21.628336],[39.103461,21.627797],[39.103879,21.627295],[39.104218,21.626967],[39.1046,21.626593],[39.105138,21.626179],[39.105442,21.625927],[39.105936,21.6255],[39.106067,21.625423],[39.106178,21.625405],[39.106289,21.625432],[39.106367,21.625495],[39.106415,21.625567],[39.10643,21.625707],[39.10641,21.625864],[39.105757,21.628885],[39.10566,21.629389],[39.105457,21.630046],[39.105135,21.631065]]}}]};function i(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o(t){let e=t,n=t;function o(t,e,i,o){for(null==i&&(i=0),null==o&&(o=t.length);i<o;){const r=i+o>>>1;n(t[r],e)<0?i=r+1:o=r}return i}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>i(t(e),n)}(t)),{left:o,center:function(t,n,i,r){null==i&&(i=0),null==r&&(r=t.length);const s=o(t,n,i,r-1);return s>i&&e(t[s-1],n)>-e(t[s],n)?s-1:s},right:function(t,e,i,o){for(null==i&&(i=0),null==o&&(o=t.length);i<o;){const r=i+o>>>1;n(t[r],e)>0?o=r:i=r+1}return i}}}const r=o(i).right;o((function(t){return null===t?NaN:+t})).center;class s extends Map{constructor(t,e=h){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(a(this,t))}has(t){return super.has(a(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const i=e(n);t.has(i)&&(n=t.get(n),t.delete(i));return n}(this,t))}}function a({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function h(t){return null!==t&&"object"==typeof t?t.valueOf():t}var u=Math.sqrt(50),l=Math.sqrt(10),c=Math.sqrt(2);function d(t,e,n){var i=(e-t)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,o);return o>=0?(r>=u?10:r>=l?5:r>=c?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=u?10:r>=l?5:r>=c?2:1)}function p(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function f(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(o);++i<o;)r[i]=t+i*n;return r}function _(t){return t}var m=1e-6;function g(t){return"translate("+t+",0)"}function v(t){return"translate(0,"+t+")"}function y(t){return e=>+t(e)}function x(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function w(){return!this.__axis}function b(t,e){var n=[],i=null,o=null,r=6,s=6,a=3,h="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",c=1===t||3===t?g:v;function d(d){var p=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,f=null==o?e.tickFormat?e.tickFormat.apply(e,n):_:o,g=Math.max(r,0)+a,v=e.range(),b=+v[0]+h,L=+v[v.length-1]+h,P=(e.bandwidth?x:y)(e.copy(),h),M=d.selection?d.selection():d,T=M.selectAll(".domain").data([null]),C=M.selectAll(".tick").data(p,e).order(),S=C.exit(),k=C.enter().append("g").attr("class","tick"),z=C.select("line"),A=C.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(k),z=z.merge(k.append("line").attr("stroke","currentColor").attr(l+"2",u*r)),A=A.merge(k.append("text").attr("fill","currentColor").attr(l,u*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==M&&(T=T.transition(d),C=C.transition(d),z=z.transition(d),A=A.transition(d),S=S.transition(d).attr("opacity",m).attr("transform",(function(t){return isFinite(t=P(t))?c(t+h):this.getAttribute("transform")})),k.attr("opacity",m).attr("transform",(function(t){var e=this.parentNode.__axis;return c((e&&isFinite(e=e(t))?e:P(t))+h)}))),S.remove(),T.attr("d",4===t||2===t?s?"M"+u*s+","+b+"H"+h+"V"+L+"H"+u*s:"M"+h+","+b+"V"+L:s?"M"+b+","+u*s+"V"+h+"H"+L+"V"+u*s:"M"+b+","+h+"H"+L),C.attr("opacity",1).attr("transform",(function(t){return c(P(t)+h)})),z.attr(l+"2",u*r),A.attr(l,u*g).text(f),M.filter(w).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),M.each((function(){this.__axis=P}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(i=null==t?null:Array.from(t),d):i&&i.slice()},d.tickFormat=function(t){return arguments.length?(o=t,d):o},d.tickSize=function(t){return arguments.length?(r=s=+t,d):r},d.tickSizeInner=function(t){return arguments.length?(r=+t,d):r},d.tickSizeOuter=function(t){return arguments.length?(s=+t,d):s},d.tickPadding=function(t){return arguments.length?(a=+t,d):a},d.offset=function(t){return arguments.length?(h=+t,d):h},d}var P={value:()=>{}};function M(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new T(i)}function T(t){this._=t}function C(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function S(t,e){for(var n,i=0,o=t.length;i<o;++i)if((n=t[i]).name===e)return n.value}function k(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=P,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}T.prototype=M.prototype={constructor:T,on:function(t,e){var n,i=this._,o=C(t+"",i),r=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<s;)if(n=(t=o[r]).type)i[n]=k(i[n],t.name,e);else if(null==e)for(n in i)i[n]=k(i[n],t.name,null);return this}for(;++r<s;)if((n=(t=o[r]).type)&&(n=S(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new T(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(i=this._[t]).length;r<n;++r)i[r].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};var z="http://www.w3.org/1999/xhtml",A={svg:"http://www.w3.org/2000/svg",xhtml:z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function E(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),A.hasOwnProperty(e)?{space:A[e],local:t}:t}function Z(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===z&&e.documentElement.namespaceURI===z?e.createElement(t):e.createElementNS(n,t)}}function N(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function I(t){var e=E(t);return(e.local?N:Z)(e)}function B(){}function O(t){return null==t?B:function(){return this.querySelector(t)}}function R(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function D(){return[]}function j(t){return null==t?D:function(){return this.querySelectorAll(t)}}function F(t){return function(){return this.matches(t)}}function H(t){return function(e){return e.matches(t)}}var W=Array.prototype.find;function q(){return this.firstElementChild}var V=Array.prototype.filter;function U(){return Array.from(this.children)}function G(t){return new Array(t.length)}function K(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Y(t){return function(){return t}}function X(t,e,n,i,o,r){for(var s,a=0,h=e.length,u=r.length;a<u;++a)(s=e[a])?(s.__data__=r[a],i[a]=s):n[a]=new K(t,r[a]);for(;a<h;++a)(s=e[a])&&(o[a]=s)}function J(t,e,n,i,o,r,s){var a,h,u,l=new Map,c=e.length,d=r.length,p=new Array(c);for(a=0;a<c;++a)(h=e[a])&&(p[a]=u=s.call(h,h.__data__,a,e)+"",l.has(u)?o[a]=h:l.set(u,h));for(a=0;a<d;++a)u=s.call(t,r[a],a,r)+"",(h=l.get(u))?(i[a]=h,h.__data__=r[a],l.delete(u)):n[a]=new K(t,r[a]);for(a=0;a<c;++a)(h=e[a])&&l.get(p[a])===h&&(o[a]=h)}function Q(t){return t.__data__}function tt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function et(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function nt(t){return function(){this.removeAttribute(t)}}function it(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ot(t,e){return function(){this.setAttribute(t,e)}}function rt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function st(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function at(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ht(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ut(t){return function(){this.style.removeProperty(t)}}function lt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ct(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function dt(t,e){return t.style.getPropertyValue(e)||ht(t).getComputedStyle(t,null).getPropertyValue(e)}function pt(t){return function(){delete this[t]}}function ft(t,e){return function(){this[t]=e}}function _t(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function mt(t){return t.trim().split(/^|\s+/)}function gt(t){return t.classList||new vt(t)}function vt(t){this._node=t,this._names=mt(t.getAttribute("class")||"")}function yt(t,e){for(var n=gt(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function xt(t,e){for(var n=gt(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function wt(t){return function(){yt(this,t)}}function bt(t){return function(){xt(this,t)}}function Lt(t,e){return function(){(e.apply(this,arguments)?yt:xt)(this,t)}}function Pt(){this.textContent=""}function Mt(t){return function(){this.textContent=t}}function Tt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ct(){this.innerHTML=""}function St(t){return function(){this.innerHTML=t}}function kt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function zt(){this.nextSibling&&this.parentNode.appendChild(this)}function At(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Et(){return null}function Zt(){var t=this.parentNode;t&&t.removeChild(this)}function Nt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function It(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ot(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function Rt(t,e,n){return function(){var i,o=this.__on,r=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var s=0,a=o.length;s<a;++s)if((i=o[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),void(i.value=e);this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},o?o.push(i):this.__on=[i]}}function Dt(t,e,n){var i=ht(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function jt(t,e){return function(){return Dt(this,t,e)}}function Ft(t,e){return function(){return Dt(this,t,e.apply(this,arguments))}}K.prototype={constructor:K,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},vt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ht=[null];function Wt(t,e){this._groups=t,this._parents=e}function qt(){return new Wt([[document.documentElement]],Ht)}function Vt(t){return"string"==typeof t?new Wt([[document.querySelector(t)]],[document.documentElement]):new Wt([[t]],Ht)}function Ut(t){return"string"==typeof t?new Wt([document.querySelectorAll(t)],[document.documentElement]):new Wt([R(t)],Ht)}function Gt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Yt(){}Wt.prototype=qt.prototype={constructor:Wt,select:function(t){"function"!=typeof t&&(t=O(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s,a=e[o],h=a.length,u=i[o]=new Array(h),l=0;l<h;++l)(r=a[l])&&(s=t.call(r,r.__data__,l,a))&&("__data__"in r&&(s.__data__=r.__data__),u[l]=s);return new Wt(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return R(t.apply(this,arguments))}}(t):j(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s,a=e[r],h=a.length,u=0;u<h;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),o.push(s));return new Wt(i,o)},selectChild:function(t){return this.select(null==t?q:function(t){return function(){return W.call(this.children,t)}}("function"==typeof t?t:H(t)))},selectChildren:function(t){return this.selectAll(null==t?U:function(t){return function(){return V.call(this.children,t)}}("function"==typeof t?t:H(t)))},filter:function(t){"function"!=typeof t&&(t=F(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s=e[o],a=s.length,h=i[o]=[],u=0;u<a;++u)(r=s[u])&&t.call(r,r.__data__,u,s)&&h.push(r);return new Wt(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Q);var n=e?J:X,i=this._parents,o=this._groups;"function"!=typeof t&&(t=Y(t));for(var r=o.length,s=new Array(r),a=new Array(r),h=new Array(r),u=0;u<r;++u){var l=i[u],c=o[u],d=c.length,p=tt(t.call(l,l&&l.__data__,u,i)),f=p.length,_=a[u]=new Array(f),m=s[u]=new Array(f),g=h[u]=new Array(d);n(l,c,_,m,g,p,e);for(var v,y,x=0,w=0;x<f;++x)if(v=_[x]){for(x>=w&&(w=x+1);!(y=m[w])&&++w<f;);v._next=y||null}}return(s=new Wt(s,i))._enter=a,s._exit=h,s},enter:function(){return new Wt(this._enter||this._groups.map(G),this._parents)},exit:function(){return new Wt(this._exit||this._groups.map(G),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,r=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,s=Math.min(o,r),a=new Array(o),h=0;h<s;++h)for(var u,l=n[h],c=i[h],d=l.length,p=a[h]=new Array(d),f=0;f<d;++f)(u=l[f]||c[f])&&(p[f]=u);for(;h<o;++h)a[h]=n[h];return new Wt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,s=o[r];--r>=0;)(i=o[r])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=et);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s,a=n[r],h=a.length,u=o[r]=new Array(h),l=0;l<h;++l)(s=a[l])&&(u[l]=s);u.sort(e)}return new Wt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],s=0,a=r.length;s<a;++s)(o=r[s])&&t.call(o,o.__data__,s,r);return this},attr:function(t,e){var n=E(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?it:nt:"function"==typeof e?n.local?at:st:n.local?rt:ot)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ut:"function"==typeof e?ct:lt)(t,e,null==n?"":n)):dt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?pt:"function"==typeof e?_t:ft)(t,e)):this.node()[t]},classed:function(t,e){var n=mt(t+"");if(arguments.length<2){for(var i=gt(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Lt:e?wt:bt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Pt:("function"==typeof t?Tt:Mt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ct:("function"==typeof t?kt:St)(t)):this.node().innerHTML},raise:function(){return this.each(zt)},lower:function(){return this.each(At)},append:function(t){var e="function"==typeof t?t:I(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:I(t),i=null==e?Et:"function"==typeof e?e:O(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Zt)},clone:function(t){return this.select(t?It:Nt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=Bt(t+""),s=r.length;if(!(arguments.length<2)){for(a=e?Rt:Ot,i=0;i<s;++i)this.each(a(r[i],e,n));return this}var a=this.node().__on;if(a)for(var h,u=0,l=a.length;u<l;++u)for(i=0,h=a[u];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ft:jt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,o=t[e],r=0,s=o.length;r<s;++r)(i=o[r])&&(yield i)}};var Xt=.7,Jt=1/Xt,$t="\\s*([+-]?\\d+)\\s*",Qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ee=/^#([0-9a-f]{3,8})$/,ne=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),ie=new RegExp("^rgb\\("+[te,te,te]+"\\)$"),oe=new RegExp("^rgba\\("+[$t,$t,$t,Qt]+"\\)$"),re=new RegExp("^rgba\\("+[te,te,te,Qt]+"\\)$"),se=new RegExp("^hsl\\("+[Qt,te,te]+"\\)$"),ae=new RegExp("^hsla\\("+[Qt,te,te,Qt]+"\\)$"),he={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ue(){return this.rgb().formatHex()}function le(){return this.rgb().formatRgb()}function ce(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?de(e):3===n?new me(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ne.exec(t))?new me(e[1],e[2],e[3],1):(e=ie.exec(t))?new me(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=oe.exec(t))?pe(e[1],e[2],e[3],e[4]):(e=re.exec(t))?pe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=se.exec(t))?xe(e[1],e[2]/100,e[3]/100,1):(e=ae.exec(t))?xe(e[1],e[2]/100,e[3]/100,e[4]):he.hasOwnProperty(t)?de(he[t]):"transparent"===t?new me(NaN,NaN,NaN,0):null}function de(t){return new me(t>>16&255,t>>8&255,255&t,1)}function pe(t,e,n,i){return i<=0&&(t=e=n=NaN),new me(t,e,n,i)}function fe(t){return t instanceof Yt||(t=ce(t)),t?new me((t=t.rgb()).r,t.g,t.b,t.opacity):new me}function _e(t,e,n,i){return 1===arguments.length?fe(t):new me(t,e,n,null==i?1:i)}function me(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function ge(){return"#"+ye(this.r)+ye(this.g)+ye(this.b)}function ve(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ye(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function xe(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new be(t,e,n,i)}function we(t){if(t instanceof be)return new be(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=ce(t)),!t)return new be;if(t instanceof be)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=NaN,a=r-o,h=(r+o)/2;return a?(s=e===r?(n-i)/a+6*(n<i):n===r?(i-e)/a+2:(e-n)/a+4,a/=h<.5?r+o:2-r-o,s*=60):a=h>0&&h<1?0:s,new be(s,a,h,t.opacity)}function be(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Le(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Gt(Yt,ce,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ue,formatHex:ue,formatHsl:function(){return we(this).formatHsl()},formatRgb:le,toString:le}),Gt(me,_e,Kt(Yt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new me(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Xt:Math.pow(Xt,t),new me(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ge,formatHex:ge,formatRgb:ve,toString:ve})),Gt(be,(function(t,e,n,i){return 1===arguments.length?we(t):new be(t,e,n,null==i?1:i)}),Kt(Yt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new be(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Xt:Math.pow(Xt,t),new be(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new me(Le(t>=240?t-240:t+120,o,i),Le(t,o,i),Le(t<120?t+240:t-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Pe=t=>()=>t;function Me(t){return 1==(t=+t)?Te:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Pe(isNaN(e)?n:e)}}function Te(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Pe(isNaN(t)?e:t)}var Ce=function t(e){var n=Me(e);function i(t,e){var i=n((t=_e(t)).r,(e=_e(e)).r),o=n(t.g,e.g),r=n(t.b,e.b),s=Te(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=r(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function Se(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,o=e.slice();return function(r){for(n=0;n<i;++n)o[n]=t[n]*(1-r)+e[n]*r;return o}}function ke(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,r=new Array(o),s=new Array(i);for(n=0;n<o;++n)r[n]=Be(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=r[n](t);return s}}function ze(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Ae(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ee(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Be(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}var Ze=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ne=new RegExp(Ze.source,"g");function Ie(t,e){var n,i,o,r=Ze.lastIndex=Ne.lastIndex=0,s=-1,a=[],h=[];for(t+="",e+="";(n=Ze.exec(t))&&(i=Ne.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,h.push({i:s,x:Ae(n,i)})),r=Ne.lastIndex;return r<e.length&&(o=e.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,i=0;i<e;++i)a[(n=h[i]).i]=n.x(t);return a.join("")})}function Be(t,e){var n,i,o=typeof e;return null==e||"boolean"===o?Pe(e):("number"===o?Ae:"string"===o?(n=ce(e))?(e=n,Ce):Ie:e instanceof ce?Ce:e instanceof Date?ze:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?ke:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ee:Ae:Se))(t,e)}function Oe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Re,De=180/Math.PI,je={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fe(t,e,n,i,o,r){var s,a,h;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(h=t*n+e*i)&&(n-=t*h,i-=e*h),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,h/=a),t*i<e*n&&(t=-t,e=-e,h=-h,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*De,skewX:Math.atan(h)*De,scaleX:s,scaleY:a}}function He(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}return function(r,s){var a=[],h=[];return r=t(r),s=t(s),function(t,i,o,r,s,a){if(t!==o||i!==r){var h=s.push("translate(",null,e,null,n);a.push({i:h-4,x:Ae(t,o)},{i:h-2,x:Ae(i,r)})}else(o||r)&&s.push("translate("+o+e+r+n)}(r.translateX,r.translateY,s.translateX,s.translateY,a,h),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(o(n)+"rotate(",null,i)-2,x:Ae(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}(r.rotate,s.rotate,a,h),function(t,e,n,r){t!==e?r.push({i:n.push(o(n)+"skewX(",null,i)-2,x:Ae(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}(r.skewX,s.skewX,a,h),function(t,e,n,i,r,s){if(t!==n||e!==i){var a=r.push(o(r)+"scale(",null,",",null,")");s.push({i:a-4,x:Ae(t,n)},{i:a-2,x:Ae(e,i)})}else 1===n&&1===i||r.push(o(r)+"scale("+n+","+i+")")}(r.scaleX,r.scaleY,s.scaleX,s.scaleY,a,h),r=s=null,function(t){for(var e,n=-1,i=h.length;++n<i;)a[(e=h[n]).i]=e.x(t);return a.join("")}}}var We,qe,Ve=He((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?je:Fe(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ue=He((function(t){return null==t?je:(Re||(Re=document.createElementNS("http://www.w3.org/2000/svg","g")),Re.setAttribute("transform",t),(t=Re.transform.baseVal.consolidate())?Fe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):je)}),", ",")",")"),Ge=0,Ke=0,Ye=0,Xe=0,Je=0,$e=0,Qe="object"==typeof performance&&performance.now?performance:Date,tn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function en(){return Je||(tn(nn),Je=Qe.now()+$e)}function nn(){Je=0}function on(){this._call=this._time=this._next=null}function rn(t,e,n){var i=new on;return i.restart(t,e,n),i}function sn(){Je=(Xe=Qe.now())+$e,Ge=Ke=0;try{!function(){en(),++Ge;for(var t,e=We;e;)(t=Je-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ge}()}finally{Ge=0,function(){var t,e,n=We,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:We=e);qe=t,hn(i)}(),Je=0}}function an(){var t=Qe.now(),e=t-Xe;e>1e3&&($e-=e,Xe=t)}function hn(t){Ge||(Ke&&(Ke=clearTimeout(Ke)),t-Je>24?(t<1/0&&(Ke=setTimeout(sn,t-Qe.now()-$e)),Ye&&(Ye=clearInterval(Ye))):(Ye||(Xe=Qe.now(),Ye=setInterval(an,1e3)),Ge=1,tn(sn)))}function un(t,e,n){var i=new on;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}on.prototype=rn.prototype={constructor:on,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?en():+n)+(null==e?0:+e),this._next||qe===this||(qe?qe._next=this:We=this,qe=this),this._call=t,this._time=n,hn()},stop:function(){this._call&&(this._call=null,this._time=1/0,hn())}};var ln=M("start","end","cancel","interrupt"),cn=[];function dn(t,e,n,i,o,r){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,o=t.__transition;function r(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(r){var u,l,c,d;if(1!==n.state)return h();for(u in o)if((d=o[u]).name===n.name){if(3===d.state)return un(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete o[u]):+u<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete o[u])}if(un((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(r))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(c=n.tween.length),u=0,l=-1;u<c;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++l]=d);i.length=l+1}}function a(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(h),n.state=5,1),r=-1,s=i.length;++r<s;)i[r].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){for(var i in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=rn(r,0,n.time)}(t,n,{name:e,index:i,group:o,on:ln,tween:cn,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function pn(t,e){var n=_n(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function fn(t,e){var n=_n(t,e);if(n.state>3)throw new Error("too late; already running");return n}function _n(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function mn(t,e){var n,i;return function(){var o=fn(this,t),r=o.tween;if(r!==n)for(var s=0,a=(i=n=r).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}o.tween=i}}function gn(t,e,n){var i,o;if("function"!=typeof n)throw new Error;return function(){var r=fn(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var a={name:e,value:n},h=0,u=o.length;h<u;++h)if(o[h].name===e){o[h]=a;break}h===u&&o.push(a)}r.tween=o}}function vn(t,e,n){var i=t._id;return t.each((function(){var t=fn(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return _n(t,i).value[e]}}function yn(t,e){var n;return("number"==typeof e?Ae:e instanceof ce?Ce:(n=ce(e))?(e=n,Ce):Ie)(t,e)}function xn(t){return function(){this.removeAttribute(t)}}function wn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bn(t,e,n){var i,o,r=n+"";return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=e(i=s,n)}}function Ln(t,e,n){var i,o,r=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=e(i=s,n)}}function Pn(t,e,n){var i,o,r;return function(){var s,a,h=n(this);if(null!=h)return(s=this.getAttribute(t))===(a=h+"")?null:s===i&&a===o?r:(o=a,r=e(i=s,h));this.removeAttribute(t)}}function Mn(t,e,n){var i,o,r;return function(){var s,a,h=n(this);if(null!=h)return(s=this.getAttributeNS(t.space,t.local))===(a=h+"")?null:s===i&&a===o?r:(o=a,r=e(i=s,h));this.removeAttributeNS(t.space,t.local)}}function Tn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Cn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Sn(t,e){var n,i;function o(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&Cn(t,o)),n}return o._value=e,o}function kn(t,e){var n,i;function o(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&Tn(t,o)),n}return o._value=e,o}function zn(t,e){return function(){pn(this,t).delay=+e.apply(this,arguments)}}function An(t,e){return e=+e,function(){pn(this,t).delay=e}}function En(t,e){return function(){fn(this,t).duration=+e.apply(this,arguments)}}function Zn(t,e){return e=+e,function(){fn(this,t).duration=e}}function Nn(t,e){if("function"!=typeof e)throw new Error;return function(){fn(this,t).ease=e}}function In(t,e,n){var i,o,r=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?pn:fn;return function(){var s=r(this,t),a=s.on;a!==i&&(o=(i=a).copy()).on(e,n),s.on=o}}var Bn=qt.prototype.constructor;function On(t){return function(){this.style.removeProperty(t)}}function Rn(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Dn(t,e,n){var i,o;function r(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&Rn(t,r,n)),i}return r._value=e,r}function jn(t){return function(e){this.textContent=t.call(this,e)}}function Fn(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&jn(i)),e}return i._value=t,i}var Hn=0;function Wn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function qn(){return++Hn}var Vn=qt.prototype;Wn.prototype={constructor:Wn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=O(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var a,h,u=i[s],l=u.length,c=r[s]=new Array(l),d=0;d<l;++d)(a=u[d])&&(h=t.call(a,a.__data__,d,u))&&("__data__"in a&&(h.__data__=a.__data__),c[d]=h,dn(c[d],e,n,d,c,_n(a,n)));return new Wn(r,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=j(t));for(var i=this._groups,o=i.length,r=[],s=[],a=0;a<o;++a)for(var h,u=i[a],l=u.length,c=0;c<l;++c)if(h=u[c]){for(var d,p=t.call(h,h.__data__,c,u),f=_n(h,n),_=0,m=p.length;_<m;++_)(d=p[_])&&dn(d,e,n,_,p,f);r.push(p),s.push(h)}return new Wn(r,s,e,n)},selectChild:Vn.selectChild,selectChildren:Vn.selectChildren,filter:function(t){"function"!=typeof t&&(t=F(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s=e[o],a=s.length,h=i[o]=[],u=0;u<a;++u)(r=s[u])&&t.call(r,r.__data__,u,s)&&h.push(r);return new Wn(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var h,u=e[a],l=n[a],c=u.length,d=s[a]=new Array(c),p=0;p<c;++p)(h=u[p]||l[p])&&(d[p]=h);for(;a<i;++a)s[a]=e[a];return new Wn(s,this._parents,this._name,this._id)},selection:function(){return new Bn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=qn(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s,a=i[r],h=a.length,u=0;u<h;++u)if(s=a[u]){var l=_n(s,e);dn(s,t,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Wn(i,this._parents,t,n)},call:Vn.call,nodes:Vn.nodes,node:Vn.node,size:Vn.size,empty:Vn.empty,each:Vn.each,on:function(t,e){var n=this._id;return arguments.length<2?_n(this.node(),n).on.on(t):this.each(In(n,t,e))},attr:function(t,e){var n=E(t),i="transform"===n?Ue:yn;return this.attrTween(t,"function"==typeof e?(n.local?Mn:Pn)(n,i,vn(this,"attr."+t,e)):null==e?(n.local?wn:xn)(n):(n.local?Ln:bn)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=E(t);return this.tween(n,(i.local?Sn:kn)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Ve:yn;return null==e?this.styleTween(t,function(t,e){var n,i,o;return function(){var r=dt(this,t),s=(this.style.removeProperty(t),dt(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}(t,i)).on("end.style."+t,On(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,o,r;return function(){var s=dt(this,t),a=n(this),h=a+"";return null==a&&(this.style.removeProperty(t),h=a=dt(this,t)),s===h?null:s===i&&h===o?r:(o=h,r=e(i=s,a))}}(t,i,vn(this,"style."+t,e))).each(function(t,e){var n,i,o,r,s="style."+e,a="end."+s;return function(){var h=fn(this,t),u=h.on,l=null==h.value[s]?r||(r=On(e)):void 0;u===n&&o===l||(i=(n=u).copy()).on(a,o=l),h.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,o,r=n+"";return function(){var s=dt(this,t);return s===r?null:s===i?o:o=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Dn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(vn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Fn(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=_n(this.node(),n).tween,r=0,s=o.length;r<s;++r)if((i=o[r]).name===t)return i.value;return null}return this.each((null==e?mn:gn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?zn:An)(e,t)):_n(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?En:Zn)(e,t)):_n(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Nn(e,t)):_n(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;fn(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,o=n.size();return new Promise((function(r,s){var a={value:s},h={value:function(){0==--o&&r()}};n.each((function(){var n=fn(this,i),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(h)),n.on=e})),0===o&&r()}))},[Symbol.iterator]:Vn[Symbol.iterator]};var Un={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Gn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}qt.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,o,r=t.__transition,s=!0;if(r){for(o in e=null==e?null:e+"",r)(n=r[o]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[o]):s=!1;s&&delete t.__transition}}(this,t)}))},qt.prototype.transition=function(t){var e,n;t instanceof Wn?(e=t._id,t=t._name):(e=qn(),(n=Un).time=en(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s,a=i[r],h=a.length,u=0;u<h;++u)(s=a[u])&&dn(s,t,e,u,a,n||Gn(s,e));return new Wn(i,this._parents,t,e)};const Kn=Math.PI,Yn=2*Kn,Xn=1e-6,Jn=Yn-Xn;function $n(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qn(){return new $n}function ti(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function ei(t){return(t=ti(Math.abs(t)))?t[1]:NaN}$n.prototype=Qn.prototype={constructor:$n,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,o,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var r=this._x1,s=this._y1,a=n-t,h=i-e,u=r-t,l=s-e,c=u*u+l*l;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>Xn)if(Math.abs(l*a-h*u)>Xn&&o){var d=n-r,p=i-s,f=a*a+h*h,_=d*d+p*p,m=Math.sqrt(f),g=Math.sqrt(c),v=o*Math.tan((Kn-Math.acos((f+c-_)/(2*m*g)))/2),y=v/g,x=v/m;Math.abs(y-1)>Xn&&(this._+="L"+(t+y*u)+","+(e+y*l)),this._+="A"+o+","+o+",0,0,"+ +(l*d>u*p)+","+(this._x1=t+x*a)+","+(this._y1=e+x*h)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,o,r){t=+t,e=+e,r=!!r;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),h=t+s,u=e+a,l=1^r,c=r?i-o:o-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+u:(Math.abs(this._x1-h)>Xn||Math.abs(this._y1-u)>Xn)&&(this._+="L"+h+","+u),n&&(c<0&&(c=c%Yn+Yn),c>Jn?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=h)+","+(this._y1=u):c>Xn&&(this._+="A"+n+","+n+",0,"+ +(c>=Kn)+","+l+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var ni,ii=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oi(t){if(!(e=ii.exec(t)))throw new Error("invalid format: "+t);var e;return new ri({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ri(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function si(t,e){var n=ti(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}oi.prototype=ri.prototype,ri.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ai={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>si(100*t,e),r:si,s:function(t,e){var n=ti(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(ni=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return r===s?i:r>s?i+new Array(r-s+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+ti(t,Math.max(0,e+r-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hi(t){return t}var ui,li,ci,di=Array.prototype.map,pi=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fi(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?hi:(e=di.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var o=t.length,r=[],s=0,a=e[0],h=0;o>0&&a>0&&(h+a+1>i&&(a=Math.max(1,i-h)),r.push(t.substring(o-=a,o+a)),!((h+=a+1)>i));)a=e[s=(s+1)%e.length];return r.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?hi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(di.call(t.numerals,String)),h=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){var e=(t=oi(t)).fill,n=t.align,c=t.sign,d=t.symbol,p=t.zero,f=t.width,_=t.comma,m=t.precision,g=t.trim,v=t.type;"n"===v?(_=!0,v="g"):ai[v]||(void 0===m&&(m=12),g=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var y="$"===d?o:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===d?r:/[%p]/.test(v)?h:"",w=ai[v],b=/[defgprs%]/.test(v);function L(t){var o,r,h,d=y,L=x;if("c"===v)L=w(t)+L,t="";else{var P=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),m),g&&(t=function(t){t:for(var e,n=t.length,i=1,o=-1;i<n;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;default:if(!+t[i])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),P&&0==+t&&"+"!==c&&(P=!1),d=(P?"("===c?c:u:"-"===c||"("===c?"":c)+d,L=("s"===v?pi[8+ni/3]:"")+L+(P&&"("===c?")":""),b)for(o=-1,r=t.length;++o<r;)if(48>(h=t.charCodeAt(o))||h>57){L=(46===h?s+t.slice(o+1):t.slice(o))+L,t=t.slice(0,o);break}}_&&!p&&(t=i(t,1/0));var M=d.length+t.length+L.length,T=M<f?new Array(f-M+1).join(e):"";switch(_&&p&&(t=i(T+t,T.length?f-L.length:1/0),T=""),n){case"<":t=d+t+L+T;break;case"=":t=d+T+t+L;break;case"^":t=T.slice(0,M=T.length>>1)+d+t+L+T.slice(M);break;default:t=T+d+t+L}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),L.toString=function(){return t+""},L}return{format:c,formatPrefix:function(t,e){var n=c(((t=oi(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(ei(e)/3))),o=Math.pow(10,-i),r=pi[8+i/3];return function(t){return n(o*t)+r}}}}function _i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}ui=fi({thousands:",",grouping:[3],currency:["$",""]}),li=ui.format,ci=ui.formatPrefix;const mi=Symbol("implicit");function gi(){var t=new s,e=[],n=[],i=mi;function o(o){let r=t.get(o);if(void 0===r){if(i!==mi)return i;t.set(o,r=e.push(o)-1)}return n[r%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new s;for(const i of n)t.has(i)||t.set(i,e.push(i)-1);return o},o.range=function(t){return arguments.length?(n=Array.from(t),o):n.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return gi(e,n).unknown(i)},_i.apply(o,arguments),o}function vi(){var t,e,n=gi().unknown(void 0),i=n.domain,o=n.range,r=0,s=1,a=!1,h=0,u=0,l=.5;function c(){var n=i().length,c=s<r,d=c?s:r,p=c?r:s;t=(p-d)/Math.max(1,n-h+2*u),a&&(t=Math.floor(t)),d+=(p-d-t*(n-h))*l,e=t*(1-h),a&&(d=Math.round(d),e=Math.round(e));var _=f(n).map((function(e){return d+t*e}));return o(c?_.reverse():_)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),c()):i()},n.range=function(t){return arguments.length?([r,s]=t,r=+r,s=+s,c()):[r,s]},n.rangeRound=function(t){return[r,s]=t,r=+r,s=+s,a=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,c()):a},n.padding=function(t){return arguments.length?(h=Math.min(1,u=+t),c()):h},n.paddingInner=function(t){return arguments.length?(h=Math.min(1,t),c()):h},n.paddingOuter=function(t){return arguments.length?(u=+t,c()):u},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},n.copy=function(){return vi(i(),[r,s]).round(a).paddingInner(h).paddingOuter(u).align(l)},_i.apply(c(),arguments)}function yi(t){return+t}var xi=[0,1];function wi(t){return t}function bi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Li(t,e,n){var i=t[0],o=t[1],r=e[0],s=e[1];return o<i?(i=bi(o,i),r=n(s,r)):(i=bi(i,o),r=n(r,s)),function(t){return r(i(t))}}function Pi(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),s=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)o[a]=bi(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(e){var n=r(t,e,1,i)-1;return s[n](o[n](e))}}function Mi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ti(){var t,e,n,i,o,r,s=xi,a=xi,h=Be,u=wi;function l(){var t,e,n,h=Math.min(s.length,a.length);return u!==wi&&(t=s[0],e=s[h-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),i=h>2?Pi:Li,o=r=null,c}function c(e){return null==e||isNaN(e=+e)?n:(o||(o=i(s.map(t),a,h)))(t(u(e)))}return c.invert=function(n){return u(e((r||(r=i(a,s.map(t),Ae)))(n)))},c.domain=function(t){return arguments.length?(s=Array.from(t,yi),l()):s.slice()},c.range=function(t){return arguments.length?(a=Array.from(t),l()):a.slice()},c.rangeRound=function(t){return a=Array.from(t),h=Oe,l()},c.clamp=function(t){return arguments.length?(u=!!t||wi,l()):u!==wi},c.interpolate=function(t){return arguments.length?(h=t,l()):h},c.unknown=function(t){return arguments.length?(n=t,c):n},function(n,i){return t=n,e=i,l()}}function Ci(){return Ti()(wi,wi)}function Si(t,e,n,i){var o,r=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return r>=u?o*=10:r>=l?o*=5:r>=c&&(o*=2),e<t?-o:o}(t,e,n);switch((i=oi(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ei(e)/3)))-ei(Math.abs(t)))}(r,s))||(i.precision=o),ci(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ei(e)-ei(t))+1}(r,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=function(t){return Math.max(0,-ei(Math.abs(t)))}(r))||(i.precision=o-2*("%"===i.type))}return li(i)}function ki(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,o,r,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),0===(s=d(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),i=Math.round(e/s);for(n*s<t&&++n,i*s>e&&--i,r=new Array(o=i-n+1);++a<o;)r[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),i=Math.round(e*s);for(n/s<t&&++n,i/s>e&&--i,r=new Array(o=i-n+1);++a<o;)r[a]=(n+a)/s}return i&&r.reverse(),r}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Si(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,o,r=e(),s=0,a=r.length-1,h=r[s],u=r[a],l=10;for(u<h&&(o=h,h=u,u=o,o=s,s=a,a=o);l-- >0;){if((o=d(h,u,n))===i)return r[s]=h,r[a]=u,e(r);if(o>0)h=Math.floor(h/o)*o,u=Math.ceil(u/o)*o;else{if(!(o<0))break;h=Math.ceil(h*o)/o,u=Math.floor(u*o)/o}i=o}return t},t}function zi(){var t=Ci();return t.copy=function(){return Mi(t,zi())},_i.apply(t,arguments),ki(t)}function Ai(t){return function(){return t}}var Ei=Math.abs,Zi=Math.atan2,Ni=Math.cos,Ii=Math.max,Bi=Math.min,Oi=Math.sin,Ri=Math.sqrt,Di=1e-12,ji=Math.PI,Fi=ji/2,Hi=2*ji;function Wi(t){return t>1?0:t<-1?ji:Math.acos(t)}function qi(t){return t>=1?Fi:t<=-1?-Fi:Math.asin(t)}function Vi(t){return t.innerRadius}function Ui(t){return t.outerRadius}function Gi(t){return t.startAngle}function Ki(t){return t.endAngle}function Yi(t){return t&&t.padAngle}function Xi(t,e,n,i,o,r,s,a){var h=n-t,u=i-e,l=s-o,c=a-r,d=c*h-l*u;if(!(d*d<Di))return[t+(d=(l*(e-r)-c*(t-o))/d)*h,e+d*u]}function Ji(t,e,n,i,o,r,s){var a=t-n,h=e-i,u=(s?r:-r)/Ri(a*a+h*h),l=u*h,c=-u*a,d=t+l,p=e+c,f=n+l,_=i+c,m=(d+f)/2,g=(p+_)/2,v=f-d,y=_-p,x=v*v+y*y,w=o-r,b=d*_-f*p,L=(y<0?-1:1)*Ri(Ii(0,w*w*x-b*b)),P=(b*y-v*L)/x,M=(-b*v-y*L)/x,T=(b*y+v*L)/x,C=(-b*v+y*L)/x,S=P-m,k=M-g,z=T-m,A=C-g;return S*S+k*k>z*z+A*A&&(P=T,M=C),{cx:P,cy:M,x01:-l,y01:-c,x11:P*(o/w-1),y11:M*(o/w-1)}}function $i(){var t=Vi,e=Ui,n=Ai(0),i=null,o=Gi,r=Ki,s=Yi,a=null;function h(){var h,u,l=+t.apply(this,arguments),c=+e.apply(this,arguments),d=o.apply(this,arguments)-Fi,p=r.apply(this,arguments)-Fi,f=Ei(p-d),_=p>d;if(a||(a=h=Qn()),c<l&&(u=c,c=l,l=u),c>Di)if(f>Hi-Di)a.moveTo(c*Ni(d),c*Oi(d)),a.arc(0,0,c,d,p,!_),l>Di&&(a.moveTo(l*Ni(p),l*Oi(p)),a.arc(0,0,l,p,d,_));else{var m,g,v=d,y=p,x=d,w=p,b=f,L=f,P=s.apply(this,arguments)/2,M=P>Di&&(i?+i.apply(this,arguments):Ri(l*l+c*c)),T=Bi(Ei(c-l)/2,+n.apply(this,arguments)),C=T,S=T;if(M>Di){var k=qi(M/l*Oi(P)),z=qi(M/c*Oi(P));(b-=2*k)>Di?(x+=k*=_?1:-1,w-=k):(b=0,x=w=(d+p)/2),(L-=2*z)>Di?(v+=z*=_?1:-1,y-=z):(L=0,v=y=(d+p)/2)}var A=c*Ni(v),E=c*Oi(v),Z=l*Ni(w),N=l*Oi(w);if(T>Di){var I,B=c*Ni(y),O=c*Oi(y),R=l*Ni(x),D=l*Oi(x);if(f<ji&&(I=Xi(A,E,R,D,B,O,Z,N))){var j=A-I[0],F=E-I[1],H=B-I[0],W=O-I[1],q=1/Oi(Wi((j*H+F*W)/(Ri(j*j+F*F)*Ri(H*H+W*W)))/2),V=Ri(I[0]*I[0]+I[1]*I[1]);C=Bi(T,(l-V)/(q-1)),S=Bi(T,(c-V)/(q+1))}}L>Di?S>Di?(m=Ji(R,D,A,E,c,S,_),g=Ji(B,O,Z,N,c,S,_),a.moveTo(m.cx+m.x01,m.cy+m.y01),S<T?a.arc(m.cx,m.cy,S,Zi(m.y01,m.x01),Zi(g.y01,g.x01),!_):(a.arc(m.cx,m.cy,S,Zi(m.y01,m.x01),Zi(m.y11,m.x11),!_),a.arc(0,0,c,Zi(m.cy+m.y11,m.cx+m.x11),Zi(g.cy+g.y11,g.cx+g.x11),!_),a.arc(g.cx,g.cy,S,Zi(g.y11,g.x11),Zi(g.y01,g.x01),!_))):(a.moveTo(A,E),a.arc(0,0,c,v,y,!_)):a.moveTo(A,E),l>Di&&b>Di?C>Di?(m=Ji(Z,N,B,O,l,-C,_),g=Ji(A,E,R,D,l,-C,_),a.lineTo(m.cx+m.x01,m.cy+m.y01),C<T?a.arc(m.cx,m.cy,C,Zi(m.y01,m.x01),Zi(g.y01,g.x01),!_):(a.arc(m.cx,m.cy,C,Zi(m.y01,m.x01),Zi(m.y11,m.x11),!_),a.arc(0,0,l,Zi(m.cy+m.y11,m.cx+m.x11),Zi(g.cy+g.y11,g.cx+g.x11),_),a.arc(g.cx,g.cy,C,Zi(g.y11,g.x11),Zi(g.y01,g.x01),!_))):a.arc(0,0,l,w,x,_):a.lineTo(Z,N)}else a.moveTo(0,0);if(a.closePath(),h)return a=null,h+""||null}return h.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +r.apply(this,arguments))/2-ji/2;return[Ni(i)*n,Oi(i)*n]},h.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Ai(+e),h):t},h.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Ai(+t),h):e},h.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Ai(+t),h):n},h.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ai(+t),h):i},h.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ai(+t),h):o},h.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ai(+t),h):r},h.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:Ai(+t),h):s},h.context=function(t){return arguments.length?(a=null==t?null:t,h):a},h}function Qi(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function to(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function eo(t){return t}function no(){var t=eo,e=to,n=null,i=Ai(0),o=Ai(Hi),r=Ai(0);function s(s){var a,h,u,l,c,d=(s=Qi(s)).length,p=0,f=new Array(d),_=new Array(d),m=+i.apply(this,arguments),g=Math.min(Hi,Math.max(-Hi,o.apply(this,arguments)-m)),v=Math.min(Math.abs(g)/d,r.apply(this,arguments)),y=v*(g<0?-1:1);for(a=0;a<d;++a)(c=_[f[a]=a]=+t(s[a],a,s))>0&&(p+=c);for(null!=e?f.sort((function(t,n){return e(_[t],_[n])})):null!=n&&f.sort((function(t,e){return n(s[t],s[e])})),a=0,u=p?(g-d*y)/p:0;a<d;++a,m=l)h=f[a],l=m+((c=_[h])>0?c*u:0)+y,_[h]={data:s[h],index:a,value:c,startAngle:m,endAngle:l,padAngle:v};return _}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:Ai(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ai(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ai(+t),s):o},s.padAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ai(+t),s):r},s}const io=e.map("map").setView([15,0],3);var oo,ro,so,ao,ho,uo,lo={color:"red",weight:8,opacity:.65},co=document.getElementById("myRange"),po=2022;function fo(){fetch("https://ergast.com/api/f1/"+po+"/circuits.json?limit=100").then((t=>t.json())).then((t=>oo=t)).then((t=>console.log("Circuit: "+t)))}function _o(){fetch("https://ergast.com/api/f1/"+po+"/results.json?limit=1000").then((t=>t.json())).then((t=>ro=t)).then((t=>console.log("Result: "+t)))}document.getElementById("year").textContent=po,co.onchange=function(){io.removeLayer(uo),io.eachLayer((function(t){t instanceof e.GeoJSON&&io.removeLayer(t)})),po=this.value,fo(),_o(),vo()},co.oninput=function(){po=this.value,console.log(po),document.getElementById("year").textContent=po},e.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.{ext}",{attribution:' <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href= "https://carto.com/about-carto/">CARTO</a>',subdomains:"abcd",minZoom:3,maxZoom:20,ext:"png"}).addTo(io);const mo=e.icon({iconUrl:"images/location.png",iconSize:[30,30],iconAnchor:[15,30]});function go(){io.eachLayer((function(t){t instanceof e.GeoJSON&&io.removeLayer(t)})),Ut("#podium svg").remove(),Ut("#BestAverageSpeed svg").remove()}function vo(){uo=e.layerGroup().addTo(io),setTimeout((()=>{console.log("CircuitTime: "+oo.MRData.CircuitTable.Circuits.length);for(var t=0;t<oo.MRData.CircuitTable.Circuits.length;t++)ho=e.marker([oo.MRData.CircuitTable.Circuits[t].Location.lat,oo.MRData.CircuitTable.Circuits[t].Location.long],{icon:mo}),uo.addLayer(ho),ho.bindPopup(e.popup().setContent(oo.MRData.CircuitTable.Circuits[t].circuitName)),ho.on("mouseover",(function(t){this.openPopup()})),ho.on("mouseout",(function(t){this.closePopup()})),ho.on("click",(function(t){yo(t)}))}),1e3);var t={markers:uo};e.control.layers(null,t).addTo(io)}function yo(t){go();for(var i=0;i<oo.MRData.CircuitTable.Circuits.length;i++)if(t.latlng.lng==oo.MRData.CircuitTable.Circuits[i].Location.long){var o=oo.MRData.CircuitTable.Circuits[i].url.replace("http://en.wikipedia.org/wiki/","");ao=oo.MRData.CircuitTable.Circuits[i].circuitId,console.log(ao),$.ajax({url:"https://en.wikipedia.org/w/api.php?action=query&format=json&prop=extracts&titles="+o+"&exsentences=3&exintro=1&explaintext=1&exsectionformat=plain&origin=*&redirects",dataType:"json",success:function(t){var i=[];for(var o in t.query.pages)i.push(o);document.getElementById("intro").textContent=t.query.pages[i[0]].extract,so=e.geoJSON(n,{style:lo}),setTimeout((()=>{so.addTo(io)}),1e3)},error:function(t){alert(t.statusText)}}),document.getElementById("titre").textContent=oo.MRData.CircuitTable.Circuits[i].circuitName,document.getElementById("country").textContent=oo.MRData.CircuitTable.Circuits[i].Location.country,document.getElementById("city").textContent=" | "+oo.MRData.CircuitTable.Circuits[i].Location.locality,setTimeout((()=>{for(var t=0;t<ro.MRData.RaceTable.Races.length;t++)if(ao==ro.MRData.RaceTable.Races[t].Circuit.circuitId){var e=ro.MRData.RaceTable.Races[t].Results;const x=e.filter((t=>t.position<4));console.log(x);var n={top:15,right:25,bottom:15,left:110},i=230-n.left-n.right,o=250-n.top-n.bottom,r=Vt("#podium").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),s=zi().range([0,i]).domain([0,p(x,(function(t){return t.position}))]),a=vi().rangeRound([0,o]).padding(.1).domain(x.map((function(t){return t.Driver.givenName+" "+t.Driver.familyName}))),h=b(4,a);r.append("g").attr("class","y axis").call(h);var u=r.selectAll(".bar").data(x).enter().append("g");u.append("rect").attr("class","bar").attr("y",(function(t){return a(t.Driver.givenName+" "+t.Driver.familyName)})).attr("height",a.bandwidth()).attr("x",0).attr("width",(function(t){return 1==t.position||t.position,s(0)})).attr("fill",(function(t){return 1==t.position?"#FFD700":2==t.position?"#CECECE":"#614E1A"})),u.append("text").attr("class","label").attr("y",(function(t){return a(t.Driver.givenName+" "+t.Driver.familyName)+a.bandwidth()/2+4})).attr("x",(function(t){return 1==t.position?s(3)+3:2==t.position?s(t.position)+3:s(1)+3})).text((function(t){return 1==t.position?"1er":2==t.position?"2e":"3e"})),r.selectAll("rect").transition().duration(800).attr("height",a.bandwidth()).attr("x",0).attr("width",(function(t){return 1==t.position?s(3):2==t.position?s(t.position):s(1)})).delay((function(t,e){return console.log(e),100*e}));var l=0;console.log(l),console.log(e);for(t=0;t<e.length;t++)l<e[t].FastestLap.AverageSpeed.speed&&(l=e[t].FastestLap.AverageSpeed.speed);var c=l/260,d=l+"Km/h",f=[c,1-c],_=(i=250,o=150,.5*Math.PI),m=Math.min(i,2*o)/2,g=["#cc0000","#F5F5F5"],v=no().value((t=>t)).sort(null).startAngle(-1*_).endAngle(_),y=$i().outerRadius(m).innerRadius(m-50);(r=Vt("#BestAverageSpeed").append("svg").attr("width",i).attr("height",o).attr("class","half-donut").append("g").attr("transform",((t,e)=>`translate(${t}, ${e})`)(i/2,o))).selectAll("path").data(v(f)).enter().append("path").attr("fill",((t,e)=>g[e])).attr("d",y),r.append("text").text((t=>d)).attr("dy","-3rem").attr("class","label").attr("text-anchor","middle")}}),700)}document.getElementById("info").style.visibility="visible",io.flyTo(t.latlng,15,{duration:1.2})}io.on("moveend",(function(){console.log(io.getZoom()),io.getZoom()<=12&&(console.log("nope"),document.getElementById("info").style.visibility="hidden",io.eachLayer((function(t){t instanceof e.GeoJSON&&io.removeLayer(t)}))),io.getZoom()>12&&(so=e.geoJSON(n,{style:lo})).addTo(io)})),io.on("click",(function(t){document.getElementById("info").style.visibility="hidden",io.flyTo([15,0],3,{duration:1.2}),go()})),fo(),_o(),vo()}();
